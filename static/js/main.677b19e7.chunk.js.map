{"version":3,"sources":["lib/store.ts","classes/TileConfig.ts","config/tiles/rarities.ts","lib/createTile.ts","config/tiles/Icon.tsx","config/tiles/misc/icons/coin.png","config/tiles/misc/icons/index.tsx","config/tiles/misc/index.tsx","config/tiles/lib/iterateAdjacentTiles.ts","config/tiles/lib/hasCategory.ts","lib/utils.ts","lib/static.ts","lib/saveGameData.ts","config/taxPeriods.ts","actions/game.ts","lib/game.ts","config/tiles/lib/removeTile.ts","config/tiles/chests/icons/key.png","config/tiles/chests/icons/chest1.png","config/tiles/chests/icons/chest2.png","config/tiles/chests/icons/chest3.png","config/tiles/chests/icons/chest4.png","config/tiles/chests/icons/index.tsx","config/tiles/chests/index.tsx","config/tiles/mining/icons/pickaxe.png","config/tiles/mining/icons/rock.png","config/tiles/mining/icons/oreCoal.png","config/tiles/mining/icons/oreCopper.png","config/tiles/mining/icons/oreGold.png","config/tiles/mining/icons/oreIron.png","config/tiles/mining/icons/oreMithril.png","config/tiles/mining/icons/oreSilver.png","config/tiles/mining/icons/index.tsx","config/tiles/mining/index.tsx","config/tiles/categories.ts","config/tiles/potions/icons/elixer1.png","config/tiles/potions/icons/elixer2.png","config/tiles/potions/icons/elixer3.png","config/tiles/potions/icons/healthPotion1.png","config/tiles/potions/icons/healthPotion2.png","config/tiles/potions/icons/healthPotion3.png","config/tiles/potions/icons/manaPotion1.png","config/tiles/potions/icons/manaPotion2.png","config/tiles/potions/icons/manaPotion3.png","config/tiles/lib/findAdjacent.ts","config/tiles/lib/replaceTile.ts","config/tiles/potions/index.ts","config/tiles/potions/icons/index.tsx","config/tiles/empty/index.tsx","config/tiles/index.ts","lib/updateGameData.ts","lib/newGame.ts","lib/loadGameData.ts","components/Tile.tsx","components/Board.tsx","components/Inventory.tsx","components/Upgrades.tsx","lib/newRound.ts","views/RoundEnd.tsx","components/GameEvents.tsx","actions/modal.ts","components/Modal.tsx","components/TileDetails.tsx","views/modals/PickNewTileModal.tsx","views/modals/InventoryModal.tsx","views/modals/IntroModal.tsx","views/modals/OptionsModal.tsx","views/MainGame.tsx","App.tsx","index.tsx"],"names":["store","state","gameData","spinning","selectedTile","_update","value","update","Math","random","window","TileConfig","properties","id","name","icon","rarity","categories","baseValue","description","calculateValue","context","onRemove","createMeta","topStat","this","Object","assign","COMMON","UNCOMMON","RARE","LEGENDARY","rarityNames","maxRarity","createTile","tileConfig","meta","console","error","Error","emptyTileConfig","uuid","config","effects","data","spinValue","totalSpins","totalAppearances","highlight","Icon","image","className","src","alt","onClick","TextIcon","iconCache","Map","getIcon","get","Coin","coin","tileConfigsMap","tileConfigs","iterateAdjacentTiles","callback","adjecentIndexes","getAdjacentIndexes","getTiles","map","hasCategory","tile","category","includes","randomInt","min","max","floor","GAME_ID","saveGameData","localData","localStorage","JSON","parse","gameState","stringify","replaceTileConfigs","ownedTiles","deckTiles","gameTiles","tilesToPick","saveDate","Date","tiles","taxPeriods","totalDays","taxAmount","endRound","boardTiles","roundEnded","savedCoins","totalCoins","lastTotalCoins","findTile","find","addOwnedTile","log","push","addGameTile","newTile","emptyTileIndex","findIndex","splice","pickRandomTile","array","tilesAvailable","reduce","acc","length","setInitialGameTiles","i","fillEmptyTiles","gridWidth","gridHeight","generateBoard","availableGameTiles","availableIndex","gameTile","index","indexOf","resetTiles","shuffleArray","j","temp","spin","animateShuffle","animateBoard","a","Promise","resolve","interval","setInterval","clearInterval","boardValue","pickTiles","modal","nextTaxPeriodDay","calculateBoardTileValue","shuffleInterval","iterations","randomTiles","tileIndexes","pop","newBoardTiles","processBoard","_","forEach","isAdjacent","originIndex","checkIndex","width","height","boardIndex","startIndex","indexes","getTileChances","chances","chanceTotal","count","availableTiles","pickedTiles","rand","chance","taxPeriod","currentTaxPeriod","currentTaxPeriodDay","newTotalCoins","addGameEvent","message","events","calculateDeckScore","score","removeTile","removeValue","gameTilesIndex","replaceTile","Chest1","chest1","Small_Chest","Chest2","chest2","Medium_Chest","Chest3","chest3","Large_Chest","Chest4","chest4","Dark_Chest","createChestConfig","Key","key","activated","Pickaxe","pickaxe","Coal","oreCoal","OreCopper","oreCopper","Copper_Ore","OreIron","oreIron","Iron_Ore","OreSilver","oreSilver","Silver_Ore","uses","broken","Rock","rock","Gold_Ore","oreGold","Mithril_Ore","oreMithril","findAdjacent","item","createElixer","foundTiles","Small_Elixer","createNextPotion","nextConfig","Small_Health_Potion","healthPotion1","Medium_Health_Potion","healthPotion2","Large_Health_Potion","healthPotion3","Small_Mana_Potion","manaPotion1","Medium_Mana_Potion","manaPotion2","Large_Mana_Potion","manaPotion3","elixer1","Medium_Elixer","elixer2","Large_Elixer","elixer3","Empty","empty","misc","mining","potions","chests","tileName","replaceAll","values","tilesById","tileInstances","updateGameData","d","superUser","deckTileIds","gridWidthMax","gridHeightMax","flags","counters","totalRounds","addTile","getTileConfigByName","tileId","addDeckTile","newGame","buildDeck","loadGameData","updateTileConfigs","Tile","showValue","fade","join","Board","style","fontSize","gridTemplateColumns","gridTemplateRows","emptyTileInstance","repeat","split","deckIndex","Inventory","onClickTile","updateSize","property","amount","current","newValue","set","upgrades","cost","pow","buy","isComplete","Upgrades","upgrade","buyUpgrade","newRound","RoundEnd","deckScore","tileRarityCost","rarityValue","rarityCount","getRemainingTiles","availableTilesByRarity","keys","allTilesByRarity","ownedRarityCounts","display","justifyContent","flexDirection","background","boxShadow","zIndex","padding","flexGrow","rarityName","enabled","rarityTiles","buyTileRarity","maxWidth","toFixed","deckTile","otherTile","ownedTile","GameEvents","event","openModal","modalName","closeModal","Modal","children","TileDetails","PickNewTileModal","pickTile","InventoryModal","IntroModal","OptionsModal","Header","float","Modals","MainGame","packageJson","version","textAlign","marginTop","SelectedTile","undefined","App","useState","useEffect","view","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.677b19e7.chunk.js","sourcesContent":["import { GameData } from \"../types/GameData\";\nimport { TileInstance } from \"../types/TileInstance\";\n\nexport const store = {\n  state: {\n    gameData: (null as unknown) as GameData,\n    spinning: false,\n    selectedTile: (null as unknown) as TileInstance | undefined,\n  },\n  _update: (value: number) => {}, // The function that triggers an update\n  update: (): void => {\n    store._update(Math.random());\n  },\n};\n\n(window as any).store = store;\n","import { TileInstance, TileMeta } from \"../types/TileInstance\";\nimport { TileValueContext } from \"../types/TileValueContext\";\n\nexport type RemoveValue = {\n  value?: number;\n  tiles?: TileInstance[];\n};\n\nexport class TileConfig {\n  id: string = \"\";\n  name?: string = \"\";\n  icon: any;\n  rarity: number = 0;\n  categories: string[] = [];\n\n  // Optional, so it will be 0, but usage should use a !\n  baseValue?: number = 0;\n\n  description?: () => any;\n  calculateValue?: (context: TileValueContext) => number = (context) => {\n    return 0;\n  };\n  onRemove?: (context: TileValueContext) => RemoveValue | void;\n  createMeta?: () => TileMeta;\n  topStat?: (tile: TileInstance) => number;\n\n  constructor(properties: TileConfig) {\n    this.name = \"\";\n\n    // This is just easy\n    Object.assign(this, properties);\n  }\n}\n\nexport type TileConfigMap = {\n  [key: string]: TileConfig;\n};\n","export const rarity = {\n  COMMON: 0,\n  UNCOMMON: 1,\n  RARE: 2,\n  LEGENDARY: 3,\n};\n\nexport const rarityNames = [\"Common\", \"Uncommon\", \"Rare\", \"Legendary\"];\n\nexport const maxRarity = rarity.LEGENDARY;\n","import { TileConfig } from \"../classes/TileConfig\";\nimport { TileData, TileInstance, TileMeta } from \"../types/TileInstance\";\nimport { v4 as uuid } from \"uuid\";\nimport { emptyTileConfig } from \"../config/tiles\";\n\nexport function createTileData() {\n  const tileData: TileData = {\n    spinValue: 0,\n    totalSpins: 0,\n    totalAppearances: 0,\n    highlight: false,\n  };\n\n  return tileData;\n}\n\nexport function createTile(tileConfig?: TileConfig, meta?: TileMeta) {\n  if (!tileConfig) {\n    console.error(\n      new Error(\n        \"Undefined tile config for creating a tile. Adding an empty tile.\"\n      )\n    );\n    tileConfig = emptyTileConfig;\n  }\n\n  if (!meta && tileConfig.createMeta) {\n    meta = tileConfig.createMeta();\n  }\n\n  const tile: TileInstance = {\n    id: uuid(),\n    config: tileConfig,\n    effects: {},\n    data: createTileData(),\n    meta: meta ?? {},\n  };\n\n  return tile;\n}\n","import { store } from \"../../lib/store\";\nimport { createTile } from \"../../lib/createTile\";\nimport { tileConfigsMap } from \".\";\nimport { TileConfig } from \"../../classes/TileConfig\";\n\nconst empty = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\ninterface Props {\n  image?: any;\n  config?: TileConfig;\n}\n\nexport function Icon({ image, config: tileConfig }: Props) {\n  return (\n    <img\n      className=\"icon\"\n      src={image}\n      alt=\"\"\n      onClick={() => {\n        if (tileConfig) {\n          store.state.selectedTile = createTile(tileConfig);\n          store.update();\n        }\n      }}\n    />\n  );\n}\n\nexport function TextIcon({ Icon }: any) {\n  return (\n    <span className=\"text-icon\">\n      <Icon />\n    </span>\n  );\n}\n\n// Cache icon instances for faster reference\n// There is no need to create one for each new instance\nconst iconCache = new Map<string, JSX.Element>();\n\nexport function getIcon(image: string, config: TileConfig) {\n  let icon = iconCache.get(config.name!);\n\n  if (!icon) {\n    icon = <Icon image={image} config={config} />;\n  }\n\n  return icon;\n}\n\nexport const Empty = () => getIcon(empty, tileConfigsMap.Empty);\n","export default __webpack_public_path__ + \"static/media/coin.3480412c.png\";","import { tileConfigsMap } from \"../..\";\nimport { getIcon } from \"../../Icon\";\n\n// Images\nimport coin from \"./coin.png\";\n\n// Icons\nexport const Coin = () => getIcon(coin, tileConfigsMap.Coin);\n","import { TileConfig } from \"../../../classes/TileConfig\";\nimport { rarity } from \"../rarities\";\nimport { Coin } from \"./icons\";\n\nconst tileConfigs = {\n  Coin: new TileConfig({\n    id: \"d9c7f23b-a3e9-4b4e-af69-4a026998d40a\",\n    icon: Coin,\n    rarity: rarity.COMMON,\n    categories: [\"coin\"],\n    baseValue: 1,\n  }),\n};\n\nexport default tileConfigs;\n","import { TileInstance } from \"../../../types/TileInstance\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\n\nexport function iterateAdjacentTiles(\n  context: TileValueContext,\n  callback: any\n): TileInstance[] {\n  const adjecentIndexes = context.getAdjacentIndexes();\n\n  const tiles = context.getTiles(adjecentIndexes);\n\n  return tiles.map(callback);\n}\n","import { TileInstance } from \"../../../types/TileInstance\";\n\nexport function hasCategory(tile: TileInstance, category: string) {\n  return tile.config.categories.includes(category);\n}\n","export function randomInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n","export const GAME_ID = \"9c0617fc-daf3-4f9c-943e-073f698ac0b8\";\n","import { GAME_ID } from \"./static\";\nimport { store } from \"./store\";\n\nexport function saveGameData() {\n  let localData = localStorage[`${GAME_ID}`];\n\n  if (localData) {\n    localData = JSON.parse(localData);\n  } else {\n    localData = {};\n  }\n\n  // Simple clone of just the data\n  const gameState = JSON.parse(JSON.stringify(store.state.gameData));\n\n  replaceTileConfigs(gameState.ownedTiles);\n  replaceTileConfigs(gameState.deckTiles);\n  replaceTileConfigs(gameState.gameTiles);\n  replaceTileConfigs(gameState.tilesToPick);\n\n  localData.gameState = gameState;\n  localData.saveDate = new Date();\n\n  localStorage[`${GAME_ID}`] = JSON.stringify(localData);\n}\n\nfunction replaceTileConfigs(tiles: any[]) {\n  for (const tile of tiles) {\n    tile.config = { id: tile.config.id };\n  }\n}\n","export const taxPeriods = [\n  {\n    totalDays: 0, // This will increment on starting a new game\n    taxAmount: 0,\n  },\n  {\n    totalDays: 5,\n    taxAmount: 25,\n  },\n  {\n    totalDays: 6,\n    taxAmount: 50,\n  },\n  {\n    totalDays: 7,\n    taxAmount: 100,\n  },\n  {\n    totalDays: 8,\n    taxAmount: 200,\n  },\n  {\n    totalDays: 9,\n    taxAmount: 400,\n  },\n  {\n    totalDays: 10,\n    taxAmount: 800,\n  },\n];\n","import { saveGameData } from \"../lib/saveGameData\";\nimport { store } from \"../lib/store\";\n\nexport function endRound() {\n  const { gameData } = store.state;\n\n  gameData.boardTiles = [];\n  gameData.roundEnded = true;\n  gameData.savedCoins += gameData.totalCoins;\n  gameData.lastTotalCoins = gameData.totalCoins;\n  gameData.tilesToPick = [];\n\n  store.update();\n\n  saveGameData();\n}\n","import { emptyTileConfig } from \"../config/tiles\";\nimport { maxRarity, rarity } from \"../config/tiles/rarities\";\nimport { TileInstance } from \"../types/TileInstance\";\nimport { createTile } from \"./createTile\";\nimport { randomInt } from \"./utils\";\nimport { store } from \"./store\";\nimport { saveGameData } from \"./saveGameData\";\nimport { taxPeriods } from \"../config/taxPeriods\";\nimport { v4 as uuid } from \"uuid\";\nimport { TileConfig } from \"../classes/TileConfig\";\nimport { endRound } from \"../actions/game\";\n\nexport function findTile(tiles: TileInstance[], id: string) {\n  return tiles.find((tile) => {\n    return tile.config.id === id;\n  });\n}\n\nexport function addOwnedTile(tileConfig: TileConfig = emptyTileConfig) {\n  const { ownedTiles } = store.state.gameData;\n\n  if (findTile(ownedTiles, tileConfig.id)) {\n    console.log(`Already own tile ${tileConfig.name}`);\n    return;\n  }\n\n  console.log(`Adding owned tile ${tileConfig.name}`);\n\n  const tile = createTile(tileConfig);\n\n  ownedTiles.push(tile);\n}\n\nexport function addDeckTile(tileId?: string) {\n  if (!tileId) {\n    return;\n  }\n\n  const { deckTileIds } = store.state.gameData;\n\n  if (!deckTileIds.includes(tileId)) {\n    deckTileIds.push(tileId);\n  }\n}\nexport function addGameTile(newTile: TileInstance) {\n  const { gameTiles } = store.state.gameData;\n\n  const emptyTileIndex = gameTiles.findIndex((tile) => {\n    return tile.config.id === emptyTileConfig.id;\n  });\n\n  if (emptyTileIndex >= 0) {\n    gameTiles.splice(emptyTileIndex, 1, newTile);\n  } else {\n    gameTiles.push(newTile);\n  }\n}\n\nexport function buildDeck() {\n  const { gameData } = store.state;\n  const { deckTileIds, ownedTiles } = gameData;\n\n  gameData.deckTiles = deckTileIds.map((id) => {\n    return findTile(ownedTiles, id) || createTile(emptyTileConfig);\n  });\n}\n\nexport function ArrayRandomItem<T>(array: T[]) {\n  return array[randomInt(0, array.length - 1)];\n}\n\nexport function pickRandomTile(tiles: TileInstance[], maxRarity: number) {\n  const tilesAvailable = tiles.reduce((acc, tile) => {\n    if (tile.config.rarity <= maxRarity) {\n      acc.push(tile);\n    }\n\n    return acc;\n  }, [] as TileInstance[]);\n\n  return ArrayRandomItem<TileInstance>(tilesAvailable);\n}\n\nexport function setInitialGameTiles() {\n  const { gameData } = store.state;\n  const { deckTiles } = gameData;\n\n  const gameTiles: TileInstance[] = [];\n\n  for (let i = 0; i < 5; i++) {\n    const tile = pickRandomTile(deckTiles, rarity.COMMON);\n    gameTiles.push(createTile(tile.config));\n  }\n\n  gameData.gameTiles = gameTiles;\n\n  fillEmptyTiles();\n}\n\nexport function fillEmptyTiles() {\n  const { gameData } = store.state;\n  const { gameTiles, gridWidth, gridHeight } = gameData;\n\n  for (let i = 0; gameTiles.length < gridWidth * gridHeight; i++) {\n    gameTiles.push(createTile(emptyTileConfig));\n  }\n}\n\nexport function generateBoard() {\n  const { gameData } = store.state;\n  const { gameTiles, gridWidth, gridHeight } = gameData;\n  const boardTiles = [];\n  const availableGameTiles = [...gameTiles]; // New array\n\n  for (let i = 0; i < gridWidth * gridHeight; i++) {\n    // Get a random index\n    const availableIndex = Math.floor(Math.random() * availableGameTiles.length);\n    const gameTile = availableGameTiles[availableIndex];\n    const index = gameTiles.indexOf(gameTile);\n\n    // console.log(index);\n    boardTiles.push(index);\n\n    availableGameTiles.splice(availableIndex, 1);\n  }\n\n  return boardTiles;\n}\n\nexport function resetTiles() {\n  const { gridWidth, gridHeight, gameTiles, boardTiles } = store.state.gameData;\n\n  if (!boardTiles.length) {\n    return;\n  }\n\n  for (let i = 0; i < gridWidth * gridHeight; i++) {\n    const tile = gameTiles[boardTiles[i]];\n    tile.data.spinValue = 0;\n  }\n}\n\nfunction shuffleArray(array: any[]) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nexport async function spin() {\n  const { gameData } = store.state;\n  const { gridWidth, gridHeight, deckTiles } = gameData;\n\n  const newBoardTiles = generateBoard();\n\n  resetTiles();\n  processBoard();\n\n  store.state.spinning = true;\n  store.update();\n\n  const length = gridWidth * gridHeight;\n  let iterations = 10;\n  const tileIndexes = store.state.gameData.gameTiles.map((_, index) => index);\n\n  async function animateShuffle() {\n    return new Promise((resolve: any) => {\n      const shuffleInterval = setInterval(() => {\n        iterations--;\n\n        if (iterations === 0) {\n          clearInterval(shuffleInterval);\n          resolve();\n        }\n\n        const randomTiles = [...tileIndexes];\n        shuffleArray(randomTiles);\n\n        for (let i = 0; i < length; i++) {\n          store.state.gameData.boardTiles[i] = randomTiles.pop()!;\n        }\n        console.log(store.state.gameData.boardTiles);\n        store.update();\n      }, 100);\n    });\n  }\n\n  async function animateBoard() {\n    return new Promise((resolve: any) => {\n      let index = 0;\n      const interval = setInterval(() => {\n        const { boardTiles, gameTiles } = gameData;\n\n        if (index > 0 && index <= gridWidth * gridHeight) {\n          const lastTile = gameTiles[boardTiles[index - 1]];\n          lastTile.data.highlight = false;\n        }\n\n        if (index > gridWidth * gridHeight) {\n          // Spin finished\n\n          clearInterval(interval);\n\n          store.state.spinning = false;\n          store.state.gameData.totalCoins += store.state.gameData.boardValue;\n          store.state.gameData.tilesToPick = pickTiles(deckTiles);\n          store.state.gameData.modal = \"PickNewTile\";\n          store.update();\n\n          nextTaxPeriodDay();\n\n          saveGameData();\n\n          resolve();\n\n          return;\n        }\n\n        if (index < gridWidth * gridHeight) {\n          const tile = gameTiles[boardTiles[index]];\n          tile.data.highlight = true;\n          tile.data.totalAppearances++;\n          tile.data.spinValue = calculateBoardTileValue(tile, index);\n        }\n\n        index++;\n\n        let boardValue = 0;\n\n        for (const boardTilesIndex of boardTiles) {\n          boardValue += gameTiles[boardTilesIndex].data.spinValue;\n        }\n        store.state.gameData.boardValue = boardValue;\n\n        store.update();\n      }, 100);\n    });\n  }\n\n  await animateShuffle();\n\n  gameData.boardTiles = newBoardTiles;\n\n  await animateBoard();\n}\n\nexport function processBoard() {\n  const { gameTiles } = store.state.gameData;\n\n  // Add to totalSpins\n  gameTiles.forEach((tile) => {\n    tile.data.totalSpins++;\n  });\n}\n\nexport function isAdjacent(originIndex: number, checkIndex: number, width: number, height: number) {\n  // Up / Down or out of bounds\n  if (checkIndex < 0 || checkIndex >= width * height) {\n    return false;\n  }\n\n  // Left / Right\n  if (originIndex + 1 === checkIndex || originIndex - 1 === checkIndex) {\n    if (Math.floor(checkIndex / width) !== Math.floor(originIndex / width)) {\n      return false;\n    }\n  }\n\n  // Down > Left / Right\n  if (originIndex + width + 1 === checkIndex || originIndex + width - 1 === checkIndex) {\n    if (Math.floor(checkIndex / width) !== Math.floor((originIndex + width) / width)) {\n      return false;\n    }\n  }\n\n  // Up > Left / Right\n  if (originIndex - width + 1 === checkIndex || originIndex - width - 1 === checkIndex) {\n    if (Math.floor(checkIndex / width) !== Math.floor((originIndex - width) / width)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function getAdjacentIndexes(startIndex: number, width: number, height: number): number[] {\n  const indexes: number[] = [];\n\n  indexes.push(startIndex + width);\n  indexes.push(startIndex - width);\n  indexes.push(startIndex + 1);\n  indexes.push(startIndex - 1);\n\n  indexes.push(startIndex + width - 1);\n  indexes.push(startIndex + width + 1);\n  indexes.push(startIndex - width - 1);\n  indexes.push(startIndex - width + 1);\n\n  for (let i = 7; i >= 0; i--) {\n    if (!isAdjacent(startIndex, indexes[i], width, height)) {\n      indexes.splice(i, 1);\n    }\n  }\n\n  return indexes;\n}\n\nfunction getTiles(tileIndexes: number[]) {\n  const { boardTiles, gameTiles } = store.state.gameData;\n\n  return tileIndexes.map((index) => {\n    return gameTiles[boardTiles[index]];\n  });\n}\n\nexport function calculateBoardTileValue(tile: TileInstance, boardIndex: number): number {\n  if (!tile.config.calculateValue) {\n    return tile.config.baseValue!;\n  }\n\n  const { gameData } = store.state;\n  const { gridWidth, gridHeight } = gameData;\n\n  const context = {\n    tile,\n    gameData,\n    getAdjacentIndexes: () => {\n      return getAdjacentIndexes(boardIndex, gridWidth, gridHeight);\n    },\n    getTiles,\n  };\n\n  return tile.config.calculateValue(context) + tile.config.baseValue!;\n}\n\nfunction getTileChances(tiles: TileInstance[]) {\n  const chances: number[] = [];\n  let chanceTotal = 0;\n\n  for (const tile of tiles) {\n    // The higher the rarity, the lower the chance\n    chanceTotal += maxRarity + 1 - tile.config.rarity;\n    chances.push(chanceTotal);\n  }\n\n  return { chances, chanceTotal };\n}\n\nfunction pickTiles(tiles: TileInstance[], count = 3) {\n  const availableTiles = [...tiles];\n  const pickedTiles = [];\n\n  for (let i = 0; i < count; i++) {\n    const { chances, chanceTotal } = getTileChances(availableTiles);\n\n    const rand = randomInt(0, chanceTotal);\n\n    const index = chances.findIndex((chance) => {\n      return chance >= rand;\n    });\n\n    const tile = availableTiles.splice(index, 1)[0];\n\n    if (tile) {\n      pickedTiles.push(createTile(tile.config));\n    }\n\n    // const index = randomInt(0, availableTiles.length - 1);\n    // const tile = availableTiles.splice(index, 1)[0];\n\n    // if (tile) {\n    //   pickedTiles.push(createTile(tile.config));\n    // }\n  }\n\n  return pickedTiles;\n}\n\nexport function nextTaxPeriodDay() {\n  const { gameData } = store.state;\n  const taxPeriod = taxPeriods[gameData.currentTaxPeriod];\n\n  gameData.currentTaxPeriodDay++;\n\n  if (gameData.currentTaxPeriodDay >= taxPeriod.totalDays) {\n    gameData.currentTaxPeriod++;\n    gameData.currentTaxPeriodDay = 1;\n\n    const newTotalCoins = gameData.totalCoins - taxPeriod.taxAmount;\n\n    if (newTotalCoins < 0) {\n      endRound();\n    }\n\n    gameData.totalCoins = newTotalCoins;\n  }\n\n  store.update();\n}\n\nexport function addGameEvent({ message = \"\" }: any) {\n  const { gameData } = store.state;\n\n  gameData.events.push({\n    id: uuid(),\n    message,\n  });\n\n  console.log(`GAME EVENT: ${message}`);\n}\n\nexport function calculateDeckScore() {\n  const { gameData } = store.state;\n  let score = 0;\n\n  for (const tile of gameData.deckTiles) {\n    score += tile.config.rarity;\n  }\n\n  return score / gameData.deckTiles.length;\n}\n","import { emptyTileConfig } from \"..\";\nimport { createTile } from \"../../../lib/createTile\";\nimport { addGameTile } from \"../../../lib/game\";\nimport { TileInstance } from \"../../../types/TileInstance\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\n\nexport function removeTile(tile: TileInstance, context: TileValueContext) {\n  let removeValue;\n\n  if (tile.config.onRemove) {\n    removeValue = tile.config.onRemove(context);\n  }\n\n  const { gameTiles } = context.gameData;\n  const gameTilesIndex = gameTiles.indexOf(tile);\n\n  // Default the replacement tile to an empty one\n  let replaceTile = createTile(emptyTileConfig);\n\n  if (removeValue) {\n    let { tiles } = removeValue;\n\n    // Replace the tile with the appropriate value\n    if (tiles?.length) {\n      replaceTile = tiles[0];\n\n      // Add the remaining tiles\n      for (let i = 1; i < tiles.length; i++) {\n        addGameTile(tiles[i]);\n      }\n    }\n\n    // Apply the value\n    if (removeValue.value) {\n      replaceTile.data.spinValue = removeValue.value;\n    }\n  }\n\n  gameTiles[gameTilesIndex] = replaceTile;\n}\n","export default __webpack_public_path__ + \"static/media/key.0629d73b.png\";","export default __webpack_public_path__ + \"static/media/chest1.b4054229.png\";","export default __webpack_public_path__ + \"static/media/chest2.d4ed67d0.png\";","export default __webpack_public_path__ + \"static/media/chest3.888bf5be.png\";","export default __webpack_public_path__ + \"static/media/chest4.28dffa1b.png\";","import { tileConfigsMap } from \"../..\";\nimport { getIcon } from \"../../Icon\";\n\n// Images\nimport key from \"./key.png\";\nimport chest1 from \"./chest1.png\";\nimport chest2 from \"./chest2.png\";\nimport chest3 from \"./chest3.png\";\nimport chest4 from \"./chest4.png\";\n\n// Icons\nexport const Key = () => getIcon(key, tileConfigsMap.Key);\nexport const Chest1 = () => getIcon(chest1, tileConfigsMap.Small_Chest);\nexport const Chest2 = () => getIcon(chest2, tileConfigsMap.Medium_Chest);\nexport const Chest3 = () => getIcon(chest3, tileConfigsMap.Large_Chest);\nexport const Chest4 = () => getIcon(chest4, tileConfigsMap.Dark_Chest);\n","import { TileConfig } from \"../../../classes/TileConfig\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\nimport { rarity } from \"../rarities\";\nimport { iterateAdjacentTiles } from \"../lib/iterateAdjacentTiles\";\nimport { TileInstance } from \"../../../types/TileInstance\";\nimport { hasCategory } from \"../lib/hasCategory\";\nimport { removeTile } from \"../lib/removeTile\";\nimport { Chest1, Chest2, Chest3, Chest4, Key } from \"./icons\";\nimport { Coin } from \"../misc/icons\";\n\nfunction createChestConfig({ baseValue, removeValue }: any) {\n  return {\n    categories: [\"chest\"],\n    name: \"\",\n    description: () => {\n      return (\n        <>\n          Unlocked by the key, gives {removeValue} <Coin />\n        </>\n      );\n    },\n    baseValue,\n    onRemove: (context: TileValueContext) => {\n      return { value: removeValue };\n    },\n  };\n}\n\nconst tileConfigs = {\n  Key: new TileConfig({\n    id: \"2ef31449-bf1d-4cee-8e93-e0665fb9942a\",\n    name: \"\",\n    description: () => {\n      return (\n        <>\n          The key unlocks <Chest1 /> <Chest2 /> <Chest3 /> <Chest4 />, destroying both in the process\n        </>\n      );\n    },\n    icon: Key,\n    rarity: rarity.COMMON,\n    categories: [\"key\"],\n    baseValue: 1,\n    calculateValue: (context: TileValueContext) => {\n      let activated = false;\n\n      iterateAdjacentTiles(context, (tile: TileInstance) => {\n        if (hasCategory(tile, \"chest\")) {\n          // Remove the tile\n          removeTile(tile, context);\n          activated = true;\n        }\n      });\n\n      if (activated) {\n        // Remove self\n        removeTile(context.tile, context);\n      }\n\n      return 0;\n    },\n  }),\n  Small_Chest: new TileConfig({\n    id: \"834bf40d-0a3d-4e20-83a0-4e3aa233840c\",\n    icon: Chest1,\n    rarity: rarity.COMMON,\n    ...createChestConfig({ baseValue: 1, removeValue: 10 }),\n  }),\n  Medium_Chest: new TileConfig({\n    id: \"c87ea7e4-5479-4aa7-9033-0859d191390b\",\n    icon: Chest2,\n    rarity: rarity.UNCOMMON,\n    ...createChestConfig({ baseValue: 2, removeValue: 20 }),\n  }),\n  Large_Chest: new TileConfig({\n    id: \"8abbd4fc-1fee-4c14-b5c2-2a627de70dd1\",\n    icon: Chest3,\n    rarity: rarity.RARE,\n    ...createChestConfig({ baseValue: 3, removeValue: 30 }),\n  }),\n  Dark_Chest: new TileConfig({\n    id: \"3422f3a8-bd1a-4549-a9ff-d0ed0621d646\",\n    icon: Chest4,\n    rarity: rarity.LEGENDARY,\n    ...createChestConfig({ baseValue: 4, removeValue: 40 }),\n  }),\n};\n\nexport default tileConfigs;\n","export default __webpack_public_path__ + \"static/media/pickaxe.9f91b8f2.png\";","export default __webpack_public_path__ + \"static/media/rock.cffc8f04.png\";","export default __webpack_public_path__ + \"static/media/oreCoal.d3a30adc.png\";","export default __webpack_public_path__ + \"static/media/oreCopper.ef951831.png\";","export default __webpack_public_path__ + \"static/media/oreGold.0a427c5c.png\";","export default __webpack_public_path__ + \"static/media/oreIron.45ad7af5.png\";","export default __webpack_public_path__ + \"static/media/oreMithril.4a29a93f.png\";","export default __webpack_public_path__ + \"static/media/oreSilver.3e3113ee.png\";","import { tileConfigsMap } from \"../..\";\nimport { getIcon } from \"../../Icon\";\n\n// Images\nimport pickaxe from \"./pickaxe.png\";\nimport rock from \"./rock.png\";\n\nimport oreCoal from \"./oreCoal.png\";\nimport oreCopper from \"./oreCopper.png\";\n// import oreExoticPurple from \"./oreExoticPurple.png\";\nimport oreGold from \"./oreGold.png\";\nimport oreIron from \"./oreIron.png\";\nimport oreMithril from \"./oreMithril.png\";\nimport oreSilver from \"./oreSilver.png\";\n\n// Icons\nexport const Pickaxe = () => getIcon(pickaxe, tileConfigsMap.Pickaxe);\nexport const Rock = () => getIcon(rock, tileConfigsMap.Rock);\n\nexport const Coal = () => getIcon(oreCoal, tileConfigsMap.Coal);\nexport const OreCopper = () => getIcon(oreCopper, tileConfigsMap.Copper_Ore);\nexport const OreIron = () => getIcon(oreIron, tileConfigsMap.Iron_Ore);\nexport const OreSilver = () => getIcon(oreSilver, tileConfigsMap.Silver_Ore);\nexport const OreGold = () => getIcon(oreGold, tileConfigsMap.Gold_Ore);\nexport const OreMithril = () => getIcon(oreMithril, tileConfigsMap.Mithril_Ore);\n","import { TileConfig } from \"../../../classes/TileConfig\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\nimport { rarity } from \"../rarities\";\nimport { iterateAdjacentTiles } from \"../lib/iterateAdjacentTiles\";\nimport { TileInstance } from \"../../../types/TileInstance\";\nimport { hasCategory } from \"../lib/hasCategory\";\nimport { removeTile } from \"../lib/removeTile\";\nimport { Coal, OreCopper, OreGold, OreIron, OreMithril, OreSilver, Pickaxe, Rock } from \"./icons\";\nimport { createTile } from \"../../../lib/createTile\";\nimport { tileConfigsMap } from \"..\";\nimport { addGameEvent } from \"../../../lib/game\";\n\nconst tileConfigs = {\n  Pickaxe: new TileConfig({\n    id: \"102f6200-dd6b-434f-b486-67ccc425cc4d\",\n    name: \"\",\n    description: () => {\n      return <>Breaks rocks, has 3 uses</>;\n    },\n    icon: Pickaxe,\n    rarity: rarity.COMMON,\n    categories: [\"mining\"],\n    baseValue: 1,\n    createMeta: () => {\n      return { uses: 3 };\n    },\n    topStat: (tile: TileInstance) => {\n      return tile.meta.uses;\n    },\n    calculateValue: (context: TileValueContext) => {\n      let broken = false;\n\n      iterateAdjacentTiles(context, (tile: TileInstance) => {\n        if (broken) {\n          return;\n        }\n\n        if (hasCategory(tile, \"rock\")) {\n          removeTile(tile, context);\n          console.log(context.tile.meta);\n          context.tile.meta.uses--;\n\n          if (context.tile.meta.uses === 0) {\n            broken = true;\n            addGameEvent({ message: \"A Pickaxe broke\" });\n          }\n        }\n      });\n\n      if (broken) {\n        // Remove self\n        removeTile(context.tile, context);\n      }\n\n      return 0;\n    },\n  }),\n  Rock: new TileConfig({\n    id: \"89c89fb8-b343-4767-ba9f-78b4586b4ceb\",\n    name: \"\",\n    description: () => {\n      return (\n        <>\n          Broken by <Pickaxe />, gives one of <Coal /> <OreCopper /> <OreIron /> <OreSilver />\n        </>\n      );\n    },\n    icon: Rock,\n    rarity: rarity.COMMON,\n    categories: [\"rock\"],\n    baseValue: 1,\n    onRemove: (context: TileValueContext) => {\n      const newTile = createTile(tileConfigsMap.Coal);\n\n      addGameEvent({\n        message: `A broken Rock yielded a ${newTile.config.name}`,\n      });\n\n      return { tiles: [newTile] };\n    },\n  }),\n  Coal: new TileConfig({\n    id: \"48217c09-300c-44b0-803e-19f51346227b\",\n    icon: Coal,\n    rarity: rarity.COMMON,\n    categories: [],\n    baseValue: 1,\n    calculateValue: (context: TileValueContext) => {\n      let total = 0;\n\n      // iterateAdjacentTiles(context, (tile: TileInstance) => {\n      //   if (tile.config.name === \"Coal\") {\n      //     total += 1;\n      //   }\n      // });\n\n      return total;\n    },\n  }),\n  Copper_Ore: new TileConfig({\n    id: \"35e8e354-dcfb-430c-9401-0035b775f00f\",\n    icon: OreCopper,\n    rarity: rarity.COMMON,\n    categories: [],\n    baseValue: 1,\n  }),\n  Iron_Ore: new TileConfig({\n    id: \"8df321a7-a16d-485e-9b41-aebe784350db\",\n    icon: OreIron,\n    rarity: rarity.COMMON,\n    categories: [],\n    baseValue: 1,\n  }),\n  Silver_Ore: new TileConfig({\n    id: \"7fa9e325-ca81-48cd-a7d5-8b1203354218\",\n    icon: OreSilver,\n    rarity: rarity.UNCOMMON,\n    categories: [],\n    baseValue: 1,\n  }),\n  Gold_Ore: new TileConfig({\n    id: \"5c65694c-aaea-4cf7-9387-ec81765ecaa9\",\n    icon: OreGold,\n    rarity: rarity.UNCOMMON,\n    categories: [],\n    baseValue: 1,\n  }),\n  Mithril_Ore: new TileConfig({\n    id: \"adf11359-db8e-4afc-8fe3-1688a3f4fb31\",\n    icon: OreMithril,\n    rarity: rarity.UNCOMMON,\n    categories: [],\n    baseValue: 1,\n  }),\n};\n\nexport default tileConfigs;\n","export const categories = {\n  POTION: \"potion\",\n  SMALL_HEALTH_POTION: \"small-health-potion\",\n  MEDIUM_HEALTH_POTION: \"medium-health-potion\",\n  LARGE_HEALTH_POTION: \"large-health-potion\",\n  SMALL_MANA_POTION: \"small-mana-potion\",\n  MEDIUM_MANA_POTION: \"medium-mana-potion\",\n  LARGE_MANA_POTION: \"large-mana-potion\",\n  SMALL_ELIXER: \"small-elixer\",\n  MEDIUM_ELIXER: \"medium-elixer\",\n  LARGE_ELIXER: \"large-elixer\",\n};\n","export default __webpack_public_path__ + \"static/media/elixer1.126eb52b.png\";","export default __webpack_public_path__ + \"static/media/elixer2.f677e6cf.png\";","export default __webpack_public_path__ + \"static/media/elixer3.ebf689aa.png\";","export default __webpack_public_path__ + \"static/media/healthPotion1.2cc42067.png\";","export default __webpack_public_path__ + \"static/media/healthPotion2.8e645ab4.png\";","export default __webpack_public_path__ + \"static/media/healthPotion3.e43eb7ea.png\";","export default __webpack_public_path__ + \"static/media/manaPotion1.03ef4a80.png\";","export default __webpack_public_path__ + \"static/media/manaPotion2.f6d761fd.png\";","export default __webpack_public_path__ + \"static/media/manaPotion3.c6a0b4ff.png\";","import { TileInstance } from \"../../../types/TileInstance\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\nimport { hasCategory } from \"./hasCategory\";\nimport { iterateAdjacentTiles } from \"./iterateAdjacentTiles\";\n\nexport function findAdjacent(\n  context: TileValueContext,\n  category: string\n): TileInstance[] {\n  return iterateAdjacentTiles(context, (tile: TileInstance) => {\n    if (hasCategory(tile, category)) {\n      return tile;\n    }\n  }).reduce((acc, item) => {\n    if (item) {\n      acc.push(item);\n    }\n    return acc;\n  }, [] as TileInstance[]);\n}\n","import { calculateBoardTileValue } from \"../../../lib/game\";\nimport { TileInstance } from \"../../../types/TileInstance\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\n\nexport function replaceTile(\n  tile: TileInstance,\n  newTile: TileInstance,\n  context: TileValueContext\n) {\n  const { gameTiles, boardTiles } = context.gameData;\n  const gameTilesIndex = gameTiles.indexOf(tile);\n  const boardIndex = boardTiles.indexOf(gameTilesIndex);\n\n  gameTiles[gameTilesIndex] = newTile;\n\n  newTile.data.spinValue = calculateBoardTileValue(newTile, boardIndex);\n}\n","import { TileConfig } from \"../../../classes/TileConfig\";\nimport { createTile } from \"../../../lib/createTile\";\nimport { TileValueContext } from \"../../../types/TileValueContext\";\nimport { categories } from \"../categories\";\nimport {\n  HealthPotion1,\n  HealthPotion2,\n  Elixer1,\n  Elixer2,\n  ManaPotion1,\n  ManaPotion2,\n  Elixer3,\n  ManaPotion3,\n  HealthPotion3,\n} from \"./icons\";\nimport { findAdjacent } from \"../lib/findAdjacent\";\nimport { removeTile } from \"../lib/removeTile\";\nimport { replaceTile } from \"../lib/replaceTile\";\nimport { rarity } from \"../rarities\";\n\n// function findAndRemoveMatch(category: string, context: TileValueContext) {\n//   const foundTiles = findAdjacent(context, category);\n\n//   if (foundTiles.length) {\n//     console.log(foundTiles);\n//     removeTile(foundTiles[0], context);\n//     return true;\n//   }\n\n//   return false;\n// }\n\nfunction createElixer(category: string, context: TileValueContext) {\n  const foundTiles = findAdjacent(context, category);\n\n  if (foundTiles.length) {\n    removeTile(foundTiles[0], context);\n    replaceTile(context.tile, createTile(tileConfigs.Small_Elixer), context);\n    return true;\n  }\n\n  return false;\n}\n\nfunction createNextPotion(category: string, nextConfig: TileConfig, context: TileValueContext) {\n  const foundTiles = findAdjacent(context, category);\n\n  if (foundTiles.length >= 2) {\n    removeTile(foundTiles[0], context);\n    removeTile(foundTiles[1], context);\n    replaceTile(context.tile, createTile(nextConfig), context);\n    return true;\n  }\n\n  return false;\n}\n\nconst tileConfigs = {\n  Small_Health_Potion: new TileConfig({\n    id: \"e77dc97d-8d44-45e4-bbad-deb79574092d\",\n    icon: HealthPotion1,\n    rarity: rarity.COMMON,\n    categories: [categories.SMALL_HEALTH_POTION],\n    baseValue: 1,\n    calculateValue: (context: TileValueContext) => {\n      if (createElixer(categories.SMALL_MANA_POTION, context)) {\n        return 0;\n      }\n\n      if (createNextPotion(categories.SMALL_HEALTH_POTION, tileConfigs.Medium_Health_Potion, context)) {\n        return 0;\n      }\n\n      return 0;\n    },\n  }),\n  Medium_Health_Potion: new TileConfig({\n    id: \"c6d67a75-f151-4503-b04d-2fb535c06c92\",\n    icon: HealthPotion2,\n    rarity: rarity.UNCOMMON,\n    categories: [categories.MEDIUM_HEALTH_POTION],\n    baseValue: 2,\n    // calculateValue: (context: TileValueContext) => {\n    //   return 2;\n    // },\n  }),\n  Large_Health_Potion: new TileConfig({\n    id: \"227d75ba-7310-4aed-8f39-cab15fb90e20\",\n    icon: HealthPotion3,\n    rarity: rarity.RARE,\n    categories: [categories.LARGE_HEALTH_POTION],\n    baseValue: 3,\n    // calculateValue: (context: TileValueContext) => {\n    //   return 2;\n    // },\n  }),\n  Small_Mana_Potion: new TileConfig({\n    id: \"d587eba7-246e-46c7-bd55-2f32b0093cf8\",\n    icon: ManaPotion1,\n    rarity: rarity.COMMON,\n    categories: [categories.SMALL_MANA_POTION],\n    baseValue: 1,\n    calculateValue: (context: TileValueContext) => {\n      if (createElixer(categories.SMALL_HEALTH_POTION, context)) {\n        return 0;\n      }\n\n      if (createNextPotion(categories.SMALL_MANA_POTION, tileConfigs.Medium_Mana_Potion, context)) {\n        return 0;\n      }\n\n      return 0;\n    },\n  }),\n  Medium_Mana_Potion: new TileConfig({\n    id: \"6c067c0f-eefb-43ce-8f81-0aabd19cacc1\",\n    icon: ManaPotion2,\n    rarity: rarity.UNCOMMON,\n    categories: [categories.MEDIUM_MANA_POTION],\n    baseValue: 2,\n    // calculateValue: (context: TileValueContext) => {\n    //   return 2;\n    // },\n  }),\n  Large_Mana_Potion: new TileConfig({\n    id: \"cf9a1a58-c4ee-4284-a504-fe442c34a8f0\",\n    icon: ManaPotion3,\n    rarity: rarity.RARE,\n    categories: [categories.LARGE_MANA_POTION],\n    baseValue: 3,\n    // calculateValue: (context: TileValueContext) => {\n    //   return 2;\n    // },\n  }),\n\n  /**\n   * Elixer\n   */\n  Small_Elixer: new TileConfig({\n    id: \"93a94d4e-7a9d-4d1a-9f8a-3b1586530ca0\",\n    icon: Elixer1,\n    rarity: rarity.RARE,\n    categories: [categories.SMALL_ELIXER],\n    baseValue: 5,\n    calculateValue: (context: TileValueContext) => {\n      if (createNextPotion(categories.SMALL_ELIXER, tileConfigs.Medium_Elixer, context)) {\n        return 0;\n      }\n\n      return 0;\n    },\n  }),\n  Medium_Elixer: new TileConfig({\n    id: \"1fb94f1d-880e-41eb-9a29-f14700a22928\",\n    icon: Elixer2,\n    rarity: rarity.RARE,\n    categories: [categories.MEDIUM_ELIXER],\n    baseValue: 10,\n    // calculateValue: (context: TileValueContext) => {\n    //   return 10;\n    // },\n  }),\n  Large_Elixer: new TileConfig({\n    id: \"3e5d71cf-0f07-4c87-a76b-b269172b0a17\",\n    icon: Elixer3,\n    rarity: rarity.LEGENDARY,\n    categories: [categories.LARGE_ELIXER],\n    baseValue: 10,\n    // calculateValue: (context: TileValueContext) => {\n    //   return 10;\n    // },\n  }),\n};\n\nexport default tileConfigs;\n","import { tileConfigsMap } from \"../..\";\nimport { getIcon } from \"../../Icon\";\n\n// Images\nimport elixer1 from \"./elixer1.png\";\nimport elixer2 from \"./elixer2.png\";\nimport elixer3 from \"./elixer3.png\";\nimport healthPotion1 from \"./healthPotion1.png\";\nimport healthPotion2 from \"./healthPotion2.png\";\nimport healthPotion3 from \"./healthPotion3.png\";\nimport manaPotion1 from \"./manaPotion1.png\";\nimport manaPotion2 from \"./manaPotion2.png\";\nimport manaPotion3 from \"./manaPotion3.png\";\n\n// Icons\nexport const HealthPotion1 = () => getIcon(healthPotion1, tileConfigsMap.Small_Health_Potion);\nexport const HealthPotion2 = () => getIcon(healthPotion2, tileConfigsMap.Medium_Health_Potion);\nexport const HealthPotion3 = () => getIcon(healthPotion3, tileConfigsMap.Large_Health_Potion);\n\nexport const ManaPotion1 = () => getIcon(manaPotion1, tileConfigsMap.Small_Mana_Potion);\nexport const ManaPotion2 = () => getIcon(manaPotion2, tileConfigsMap.Medium_Mana_Potion);\nexport const ManaPotion3 = () => getIcon(manaPotion3, tileConfigsMap.Large_Mana_Potion);\n\nexport const Elixer1 = () => getIcon(elixer1, tileConfigsMap.Small_Elixer);\nexport const Elixer2 = () => getIcon(elixer2, tileConfigsMap.Medium_Elixer);\nexport const Elixer3 = () => getIcon(elixer3, tileConfigsMap.Large_Elixer);\n","import { TileValueContext } from \"../../../types/TileValueContext\";\nimport { rarity } from \"../rarities\";\nimport { Empty } from \"../Icon\";\nimport { TileConfig } from \"../../../classes/TileConfig\";\n\nconst tileConfigs = {\n  Empty: new TileConfig({\n    id: \"04f5df2c-22d6-4e31-8e81-c81f0ba1c4c1\",\n    name: \"\",\n    icon: Empty,\n    rarity: rarity.COMMON,\n    categories: [\"empty\"],\n    calculateValue: (context: TileValueContext) => {\n      return context.tile.data.spinValue || 0;\n    },\n  }),\n};\n\nexport default tileConfigs;\n","import { TileConfig } from \"../../classes/TileConfig\";\n\n// Sets\nimport misc from \"./misc\";\nimport chests from \"./chests\";\nimport mining from \"./mining\";\nimport potions from \"./potions\";\nimport empty from \"./empty\";\nimport { TileInstance } from \"../../types/TileInstance\";\nimport { createTile } from \"../../lib/createTile\";\n\nexport const emptyTileConfig = empty.Empty;\n\nexport const tileConfigsMap = {\n  ...empty,\n  ...misc,\n  ...mining,\n  ...potions,\n  ...chests,\n};\n\nexport type TileConfigNames = keyof typeof tileConfigsMap;\n\n// Update the names on all tileConfigs\nfor (const tileName in tileConfigsMap) {\n  const tileConfig = (tileConfigsMap as any)[tileName];\n  tileConfig.name = tileName.replaceAll(\"_\", \" \");\n}\n\nconst tileConfigs: TileConfig[] = [...Object.values(tileConfigsMap)];\n\nexport default tileConfigs;\nexport const tilesById = new Map<string, TileConfig>();\nexport const tileInstances: TileInstance[] = [];\n\n// Setup the tiles by Id and name\ntileConfigs.forEach((config) => {\n  tilesById.set(config.id, config);\n  tileInstances.push(createTile(config));\n});\n\nexport function getTileConfigByName(name: TileConfigNames): TileConfig {\n  const tileConfig = tileConfigsMap[name];\n\n  if (!tileConfig) {\n    console.error(new Error(`Tile name \"${name}\" not found`));\n  }\n\n  return tileConfig;\n}\n","import { GameData } from \"../types/GameData\";\n\nexport function updateGameData(gameData: any) {\n  const d: GameData = gameData;\n\n  d.superUser = d.superUser ?? false;\n  d.boardTiles = d.boardTiles ?? [];\n  d.ownedTiles = d.ownedTiles ?? [];\n  d.deckTileIds = d.deckTileIds ?? [];\n  d.deckTiles = d.deckTiles ?? [];\n  d.gameTiles = d.gameTiles ?? [];\n  d.tilesToPick = d.tilesToPick ?? [];\n  d.gridWidth = d.gridWidth ?? 3;\n  d.gridHeight = d.gridHeight ?? 3;\n  d.gridWidthMax = d.gridWidthMax ?? 3;\n  d.gridHeightMax = d.gridHeightMax ?? 3;\n  d.boardValue = d.boardValue ?? 0;\n  d.totalCoins = d.totalCoins ?? 0;\n  d.savedCoins = d.savedCoins ?? 0;\n  d.lastTotalCoins = d.lastTotalCoins ?? 0;\n  d.currentTaxPeriod = d.currentTaxPeriod ?? 0;\n  d.currentTaxPeriodDay = d.currentTaxPeriodDay ?? 0;\n  d.roundEnded = d.roundEnded ?? false;\n  d.events = d.events ?? [];\n  d.modal = d.modal ?? \"Intro\";\n\n  /**\n   * Flags\n   */\n  if (!d.flags) d.flags = {} as any;\n\n  // Should be find to leave flags that default to \"false\" as \"undefined\"\n  // \"true\" defaults should definitely be initialized\n  // if (updateGameData.flags.introDismissed === undefined) {\n  //   updateGameData.flags.introDismissed= false;\n  // }\n\n  /**\n   * Counters\n   */\n  if (!d.counters) d.counters = {} as any;\n\n  const { counters } = d;\n\n  counters.totalSpins = counters.totalSpins ?? 0;\n  counters.totalRounds = counters.totalRounds ?? 0;\n\n  return d;\n}\n","import { getTileConfigByName, TileConfigNames } from \"../config/tiles\";\nimport { addDeckTile, addOwnedTile, buildDeck, nextTaxPeriodDay, setInitialGameTiles } from \"./game\";\nimport { store } from \"./store\";\nimport { updateGameData } from \"./updateGameData\";\n\nfunction addTile(name: TileConfigNames) {\n  const tileConfig = getTileConfigByName(name);\n  addOwnedTile(tileConfig);\n  addDeckTile(tileConfig?.id);\n}\n\nexport function newGame() {\n  const gameData = updateGameData({});\n\n  store.state.gameData = gameData;\n  store.state.gameData.tilesToPick = [];\n\n  addTile(\"Coal\");\n  addTile(\"Pickaxe\");\n  addTile(\"Rock\");\n\n  buildDeck();\n  setInitialGameTiles();\n  nextTaxPeriodDay();\n}\n","import { GameData } from \"../types/GameData\";\nimport { TileInstance } from \"../types/TileInstance\";\nimport { GAME_ID } from \"./static\";\nimport { store } from \"./store\";\nimport tileConfigs, { emptyTileConfig } from \"../config/tiles\";\nimport { updateGameData } from \"./updateGameData\";\n\nexport function loadGameData() {\n  let localData = localStorage[`${GAME_ID}`];\n\n  if (localData) {\n    localData = JSON.parse(localData);\n  } else {\n    localData = {};\n  }\n\n  if (localData?.gameState) {\n    // Must update configs with references to the actual objects\n    const gameState: GameData = updateGameData(localData.gameState);\n\n    updateTileConfigs(gameState.ownedTiles);\n    updateTileConfigs(gameState.deckTiles);\n    updateTileConfigs(gameState.gameTiles);\n    updateTileConfigs(gameState.tilesToPick);\n\n    store.state.gameData = localData.gameState;\n  }\n}\n\nfunction updateTileConfigs(tiles: TileInstance[]) {\n  for (const tile of tiles) {\n    tile.config =\n      tileConfigs.find((tileConfig) => {\n        return tileConfig.id === tile.config.id;\n      }) || emptyTileConfig;\n  }\n}\n","import { store } from \"../lib/store\";\nimport { TileInstance } from \"../types/TileInstance\";\n\ninterface Props {\n  tile: TileInstance;\n  showValue?: boolean;\n  fade?: boolean;\n  onClick?: (tile: TileInstance) => void;\n}\n\nexport function Tile({ tile, showValue, fade, onClick }: Props) {\n  const className = [\"tile\"];\n\n  if (tile.data.highlight) {\n    className.push(\"highlight\");\n  }\n\n  if (fade) {\n    className.push(\"fade\");\n  }\n\n  function clickedTile() {\n    store.state.selectedTile = tile;\n    store.update();\n\n    if (onClick) {\n      onClick(tile);\n    }\n  }\n\n  return (\n    <div className={className.join(\" \")} onClick={clickedTile}>\n      {!!tile.config.topStat && showValue && <div className=\"top-stat\">{tile.config.topStat(tile)}</div>}\n      {!!tile.data.spinValue && showValue && <div className=\"value\">{tile.data.spinValue}</div>}\n      <tile.config.icon />\n    </div>\n  );\n}\n","import { createTile } from \"../lib/createTile\";\nimport { emptyTileConfig } from \"../config/tiles\";\nimport { TileInstance } from \"../types/TileInstance\";\nimport { Tile } from \"./Tile\";\n\ninterface Props {\n  boardTiles: number[];\n  gameTiles: TileInstance[];\n  width: number;\n  height: number;\n}\n\nexport function Board({ boardTiles, gameTiles, width, height }: Props) {\n  const style = {\n    fontSize: \"1.5em\",\n    gridTemplateColumns: `repeat(${width}, 5em)`,\n    gridTemplateRows: `repeat(${height}, 5em)`,\n  };\n\n  if (boardTiles.length === 0) {\n    const emptyTileInstance = createTile(emptyTileConfig);\n\n    return (\n      <div className=\"board\" style={style}>\n        {\" \"\n          .repeat(width * height)\n          .split(\"\")\n          .map((_, index) => {\n            return <Tile key={index} tile={emptyTileInstance} />;\n          })}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"board\" style={style}>\n      {boardTiles.map((deckIndex, index) => {\n        const tile = gameTiles[deckIndex];\n        return <Tile key={tile.id} tile={tile} showValue onClick={() => {}} />;\n      })}\n    </div>\n  );\n}\n","import { TileInstance } from \"../types/TileInstance\";\nimport { Tile } from \"./Tile\";\n\ninterface Props {\n  tiles: TileInstance[];\n  fade?: (tile: TileInstance) => boolean;\n  onClickTile?: (tile: TileInstance) => void;\n}\n\nexport function Inventory({ tiles, onClickTile, fade }: Props) {\n  return (\n    <div className=\"inventory\">\n      {tiles.map((tile) => (\n        <Tile key={tile.id} tile={tile} onClick={onClickTile} fade={fade && fade(tile)} />\n      ))}\n    </div>\n  );\n}\n","import { TextIcon } from \"../config/tiles/Icon\";\nimport { Coin } from \"../config/tiles/misc/icons\";\nimport { fillEmptyTiles } from \"../lib/game\";\nimport { store } from \"../lib/store\";\n\nfunction updateSize(property: \"width\" | \"height\", amount: number) {\n  const { gameData } = store.state;\n  let current = 0;\n  let max = 0;\n\n  if (property === \"width\") {\n    current = gameData.gridWidth;\n    max = gameData.gridWidthMax;\n  } else if (property === \"height\") {\n    current = gameData.gridHeight;\n    max = gameData.gridHeightMax;\n  }\n\n  const newValue = current + amount;\n\n  if (newValue >= 3 && newValue <= max) {\n    // This is a valid change\n\n    if (property === \"width\") {\n      gameData.gridWidth = newValue;\n    } else if (property === \"height\") {\n      gameData.gridHeight = newValue;\n    }\n\n    store.update();\n  }\n}\n\nconst upgrades = [\n  {\n    id: \"bbe17879-f3ee-47fc-9e76-2fa8cc0ebc0d\",\n    name: \"Board Max Width\",\n    description: () => {\n      return (\n        <>\n          The width of the board. Smaller boards hold fewer tiles, but the tiles will be adjacent more often. Bigger\n          boards hold more tiles, but the tiles will be adjacent less often.\n          <br />\n          <br />\n          <div className=\"shrink-buttons\">\n            <button onClick={() => updateSize(\"width\", -1)}>-</button>\n            <span className=\"stepper-value\">{store.state.gameData.gridWidth}</span>\n            <button onClick={() => updateSize(\"width\", 1)}>+</button>\n          </div>\n        </>\n      );\n    },\n    value: () => {\n      return store.state.gameData.gridWidthMax;\n    },\n    cost: () => {\n      const { gameData } = store.state;\n      return Math.pow(10, gameData.gridWidthMax);\n    },\n    buy: () => {\n      const { gameData } = store.state;\n      gameData.gridWidthMax += 1;\n      gameData.gridWidth = gameData.gridWidthMax;\n      fillEmptyTiles();\n      store.update();\n    },\n    isComplete: () => {\n      return false;\n    },\n  },\n  {\n    id: \"1e0ab330-8ec9-4e41-933d-75251ffa5ee5\",\n    name: \"Board Max Height\",\n    description: () => {\n      return (\n        <>\n          The height of the board. Smaller boards hold fewer tiles, but the tiles will be adjacent more often. Bigger\n          boards hold more tiles, but the tiles will be adjacent less often.\n          <br />\n          <br />\n          <div className=\"shrink-buttons\">\n            <button onClick={() => updateSize(\"height\", -1)}>-</button>\n            <span className=\"stepper-value\">{store.state.gameData.gridHeight}</span>\n            <button onClick={() => updateSize(\"height\", 1)}>+</button>\n          </div>\n        </>\n      );\n    },\n    value: () => {\n      return store.state.gameData.gridHeightMax;\n    },\n    cost: () => {\n      const { gameData } = store.state;\n      return Math.pow(10, gameData.gridHeightMax);\n    },\n    buy: () => {\n      const { gameData } = store.state;\n      gameData.gridHeightMax += 1;\n      gameData.gridHeight = gameData.gridHeightMax;\n      fillEmptyTiles();\n      store.update();\n    },\n    isComplete: () => {\n      return false;\n    },\n  },\n];\n\nfunction buyUpgrade(upgrade: any) {\n  const cost = upgrade.cost();\n\n  upgrade.buy();\n\n  store.state.gameData.savedCoins -= cost;\n  store.update();\n}\n\nexport function Upgrades() {\n  const { gameData } = store.state;\n\n  return (\n    <>\n      <table className=\"table upgrades\">\n        <thead>\n          <tr>\n            <th>Information</th>\n            <th>Value</th>\n            <th>Cost</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {upgrades.map((upgrade) => {\n            return (\n              <tr key={upgrade.id}>\n                <td>\n                  <div className=\"name\">{upgrade.name}</div>\n                  <div className=\"description\">\n                    <upgrade.description />\n                  </div>\n                </td>\n                <td>\n                  <div className=\"cost\">{upgrade.value()}</div>\n                </td>\n                <td>\n                  <div className=\"cost\">\n                    {upgrade.cost()}\n                    <TextIcon Icon={Coin} />\n                  </div>\n                </td>\n                <td>\n                  {gameData.savedCoins > upgrade.cost() && <button onClick={() => buyUpgrade(upgrade)}>Buy</button>}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </>\n  );\n}\n","import { nextTaxPeriodDay, setInitialGameTiles } from \"./game\";\nimport { store } from \"./store\";\n\nexport function newRound() {\n  const { gameData } = store.state;\n\n  gameData.currentTaxPeriod = 0;\n  gameData.currentTaxPeriodDay = 0;\n  gameData.roundEnded = false;\n  gameData.boardTiles = [];\n  gameData.totalCoins = 0;\n  gameData.events = [];\n  gameData.tilesToPick = [];\n  gameData.modal = \"\";\n\n  gameData.counters.totalRounds++;\n\n  setInitialGameTiles();\n  nextTaxPeriodDay();\n\n  store.update();\n}\n","import { Board } from \"../components/Board\";\nimport { Inventory } from \"../components/Inventory\";\nimport { Upgrades } from \"../components/Upgrades\";\nimport { emptyTileConfig, tileInstances } from \"../config/tiles\";\nimport { TextIcon } from \"../config/tiles/Icon\";\nimport { Coin } from \"../config/tiles/misc/icons\";\nimport { rarity } from \"../config/tiles/rarities\";\nimport { createTile } from \"../lib/createTile\";\nimport { addOwnedTile, calculateDeckScore, findTile } from \"../lib/game\";\nimport { newRound } from \"../lib/newRound\";\nimport { store } from \"../lib/store\";\nimport { randomInt } from \"../lib/utils\";\nimport { TileInstance } from \"../types/TileInstance\";\n\nexport function RoundEnd() {\n  const deckScore = calculateDeckScore();\n\n  const { gameData } = store.state;\n\n  function tileRarityCost(rarityValue: number, rarityCount: number) {\n    return Math.pow(rarityValue + 1, 2) * 100 * (rarityCount + 1);\n  }\n\n  function getRemainingTiles() {\n    const availableTilesByRarity: TileInstance[][] = Object.keys(rarity).map(() => []);\n    const allTilesByRarity: TileInstance[][] = Object.keys(rarity).map(() => []);\n    const ownedRarityCounts: number[] = Object.keys(rarity).map(() => 0);\n\n    tileInstances.forEach((tile) => {\n      allTilesByRarity[tile.config.rarity].push(tile);\n\n      if (tile.config === emptyTileConfig) {\n        // Skip the empty tile\n        return;\n      }\n\n      if (!findTile(gameData.ownedTiles, tile.config.id)) {\n        availableTilesByRarity[tile.config.rarity].push(tile);\n      } else {\n        ownedRarityCounts[tile.config.rarity]++;\n      }\n    });\n\n    return {\n      availableTilesByRarity,\n      allTilesByRarity,\n      ownedRarityCounts,\n    };\n  }\n\n  function buyTileRarity(rarity: number) {\n    const { availableTilesByRarity, ownedRarityCounts } = getRemainingTiles();\n\n    const rarityTiles = availableTilesByRarity[rarity];\n\n    const index = randomInt(0, rarityTiles.length - 1);\n\n    gameData.savedCoins -= tileRarityCost(rarity, ownedRarityCounts[rarity]);\n\n    addOwnedTile(rarityTiles[index].config);\n\n    store.update();\n  }\n\n  const { availableTilesByRarity, allTilesByRarity, ownedRarityCounts } = getRemainingTiles();\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", height: \"100%\" }}>\n      <div style={{ display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            background: \"#333\",\n            boxShadow: \"0em 0em 1em 0em #000\",\n            zIndex: 1,\n          }}\n        >\n          <div\n            style={{\n              fontSize: \"2em\",\n              padding: \"0em 0.5em\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n            }}\n          >\n            <div>\n              {gameData.savedCoins}\n              <TextIcon Icon={Coin} /> (+{gameData.lastTotalCoins}\n              <TextIcon Icon={Coin} /> earned)\n            </div>\n          </div>\n          <div className=\"shrink-buttons\">\n            <button onClick={newRound}>Next round</button>\n          </div>\n        </div>\n        <div className=\"main-container\" style={{ width: \"100%\", flexGrow: 1 }}>\n          <div style={{ padding: \"1em\" }}>\n            <h1>The Round Is Over</h1>\n            <br />\n            <div>\n              <div>\n                This is your chance to get a new tile. Getting a new tile will increase the cost of the next tile of the\n                same rarity\n              </div>\n              <br />\n              <div className=\"buy-new-card\">\n                {Object.keys(rarity).map((rarityName, index) => {\n                  const rarityValue = (rarity as any)[rarityName];\n                  const rarityCount = ownedRarityCounts[index];\n                  const cost = tileRarityCost(rarityValue, rarityCount);\n                  const availableTiles = availableTilesByRarity[index].length;\n                  const className = [\"rarity\"];\n                  let enabled = true;\n\n                  if (cost > gameData.savedCoins || availableTiles === 0) {\n                    className.push(\"disabled\");\n                    enabled = false;\n                  }\n\n                  return (\n                    <div key={rarityValue} className={className.join(\" \")}>\n                      <div className=\"name\">{rarityName}</div>\n                      <div className=\"cost\">{cost}</div>\n                      <div className=\"remaining-tiles\">\n                        {availableTilesByRarity[index].length} of {allTilesByRarity[index].length} tiles available\n                      </div>\n                      {enabled && <button onClick={() => buyTileRarity(index)}>Buy</button>}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            <br />\n            <h1>Take this time to reorganize your deck</h1>\n            <div style={{ maxWidth: \"50em\" }}>\n              Remove tiles by clicking on them in your deck, or add tiles by clicking on the ones in your inventory. You\n              deck score must be less than one. This is to encourage a balance of tile rarities.\n            </div>\n            <br />\n            <div>\n              <div>\n                <h2>Deck</h2>\n                <div style={{ background: deckScore > 1 ? \"red\" : \"none\" }}>Score: {deckScore.toFixed(2)}</div>\n                <Inventory\n                  tiles={gameData.deckTiles}\n                  onClickTile={(tile) => {\n                    const index = gameData.deckTiles.indexOf(tile);\n\n                    if (index >= 0) {\n                      gameData.deckTiles.splice(index, 1);\n                    }\n                  }}\n                />\n              </div>\n            </div>\n            <br />\n            <div>\n              <div>\n                <h2>Owned Inventory</h2>\n                <Inventory\n                  tiles={gameData.ownedTiles}\n                  fade={(tile) => {\n                    return !!gameData.deckTiles.find((deckTile) => {\n                      return deckTile.config.id === tile.config.id;\n                    });\n                  }}\n                  onClickTile={(tile) => {\n                    const hasTile = gameData.deckTiles.find((otherTile) => {\n                      return otherTile.config.id === tile.config.id;\n                    });\n\n                    if (!hasTile) {\n                      gameData.deckTiles.push(tile);\n                    }\n                  }}\n                />\n              </div>\n            </div>\n            {gameData.superUser && (\n              <>\n                <br />\n                <div>\n                  <h1>All Tiles</h1>\n                  <Inventory\n                    tiles={tileInstances}\n                    fade={(tile) => {\n                      return !!gameData.ownedTiles.find((ownedTile) => {\n                        return ownedTile.config.id === tile.config.id;\n                      });\n                    }}\n                    onClickTile={(tile) => {\n                      if (gameData.superUser) {\n                        const hasTile = gameData.ownedTiles.find((otherTile) => {\n                          return otherTile.config.id === tile.config.id;\n                        });\n\n                        if (!hasTile) {\n                          gameData.ownedTiles.push(createTile(tile.config));\n                        }\n                      }\n                    }}\n                  />\n                </div>\n              </>\n            )}\n            <br />\n\n            <div style={{ maxWidth: \"50em\" }}>\n              <h1>Upgrades</h1>\n              <Upgrades />\n            </div>\n\n            <br />\n            <h1>Board Next Round</h1>\n            <div style={{ fontSize: \"0.25em\", display: \"flex\", justifyContent: \"center\" }}>\n              <Board\n                boardTiles={gameData.boardTiles}\n                gameTiles={gameData.gameTiles}\n                width={gameData.gridWidth}\n                height={gameData.gridHeight}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { GameEvent } from \"../types/GameData\";\n\ninterface Props {\n  events: GameEvent[];\n}\n\nexport function GameEvents({ events }: Props) {\n  return (\n    <div className=\"game-events\">\n      {events.map((event) => (\n        <div key={event.id} className=\"event\">\n          <div className=\"message\">{event.message}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { store } from \"../lib/store\";\n\nexport function openModal(modalName: string) {\n  store.state.gameData.modal = modalName;\n  store.update();\n}\n\nexport function closeModal() {\n  store.state.gameData.modal = \"\";\n  store.update();\n}\n","export function Modal({ children, style }: any) {\n  console.log(children);\n  return (\n    <div className=\"modal\">\n      <div className=\"shade\">\n        <div className=\"container\" style={style}>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { TextIcon } from \"../config/tiles/Icon\";\nimport { Coin } from \"../config/tiles/misc/icons\";\nimport { rarityNames } from \"../config/tiles/rarities\";\nimport { TileInstance } from \"../types/TileInstance\";\n\ninterface Props {\n  tile?: TileInstance;\n  onClick?: any;\n}\n\nexport function TileDetails({ tile, onClick }: Props) {\n  if (!tile) {\n    return null;\n  }\n\n  const { config } = tile;\n\n  return (\n    <div className=\"tile-details\" onClick={onClick}>\n      <div className=\"name\">{config.name}</div>\n      <div className=\"rarity\">{rarityNames[config.rarity]}</div>\n      <tile.config.icon />\n      <div className=\"base-value\">\n        {config.baseValue}\n        <TextIcon Icon={Coin} />\n      </div>\n      <div className=\"description\">{config.description && config.description()}</div>\n    </div>\n  );\n}\n","import { closeModal } from \"../../actions/modal\";\nimport { Modal } from \"../../components/Modal\";\nimport { TileDetails } from \"../../components/TileDetails\";\nimport { addGameTile } from \"../../lib/game\";\nimport { saveGameData } from \"../../lib/saveGameData\";\nimport { store } from \"../../lib/store\";\nimport { TileInstance } from \"../../types/TileInstance\";\n\nexport function PickNewTileModal() {\n  const { tilesToPick } = store.state.gameData;\n\n  function pickTile(tile?: TileInstance) {\n    if (tile) {\n      addGameTile(tile);\n    }\n\n    store.state.gameData.modal = \"\";\n    store.state.gameData.tilesToPick = [];\n\n    saveGameData();\n\n    closeModal();\n  }\n\n  return (\n    <Modal>\n      <h1>Pick New Tile</h1>\n      <br />\n      <div className=\"pick-a-tile\">\n        {tilesToPick.map((tile) => (\n          <div className=\"option\">\n            <TileDetails key={tile.id} tile={tile} />\n            <button\n              onClick={() => {\n                pickTile(tile);\n              }}\n            >\n              Select\n            </button>\n          </div>\n        ))}\n      </div>\n      <br />\n      <button onClick={() => pickTile()}>Skip</button>\n    </Modal>\n  );\n}\n","import { closeModal } from \"../../actions/modal\";\nimport { Inventory } from \"../../components/Inventory\";\nimport { Modal } from \"../../components/Modal\";\nimport { tileInstances } from \"../../config/tiles\";\nimport { createTile } from \"../../lib/createTile\";\nimport { calculateDeckScore } from \"../../lib/game\";\nimport { store } from \"../../lib/store\";\n\nexport function InventoryModal() {\n  const { gameData } = store.state;\n\n  const deckScore = calculateDeckScore();\n\n  return (\n    <Modal style={{ width: \"50em\" }}>\n      <div>\n        <h1>Inventory</h1>\n        <br />\n        <div>\n          <h2>Game Tiles</h2>\n          <br />\n          <Inventory tiles={gameData.gameTiles} />\n        </div>\n        <br />\n        <div>\n          <h2>Deck</h2>\n          <br />\n          <div style={{ background: deckScore > 1 ? \"red\" : \"none\" }}>Deck Score: {deckScore.toFixed(2)}</div>\n          <Inventory tiles={gameData.deckTiles} />\n        </div>\n        {/* <div>\n          <h1>Owned Inventory</h1>\n          <Inventory tiles={gameData.ownedTiles} />\n        </div> */}\n        {gameData.superUser && (\n          <div>\n            <h1>All Tiles</h1>\n            <Inventory\n              tiles={tileInstances}\n              onClickTile={(tile) => {\n                const hasTile = gameData.ownedTiles.find((otherTile) => {\n                  return otherTile.config.id === tile.config.id;\n                });\n\n                if (!hasTile) {\n                  gameData.ownedTiles.push(createTile(tile.config));\n                }\n              }}\n            />\n          </div>\n        )}\n        <br />\n        <button onClick={closeModal}>Close</button>\n      </div>\n    </Modal>\n  );\n}\n","import { closeModal } from \"../../actions/modal\";\nimport { Modal } from \"../../components/Modal\";\nimport { store } from \"../../lib/store\";\n\nexport function IntroModal() {\n  const { gameData } = store.state;\n\n  return (\n    <Modal>\n      <h1>How To Play</h1>\n      <br />\n      <div>\n        <h3>What Is This?</h3>\n        <br />\n        This is a slot machine incremental game. Every spin will result in new tiles on the board. Depending on the\n        tiles that appear, you will earn money or trigger other effects.\n        <br />\n        <br />\n        <h3>Game Play</h3>\n        <br />\n        You must pay taxes after a set number of days. The taxes due are subtracted from your total moneny at the end of\n        the tax period. As you successfully pass tax periods, the periods become longer and the amount of taxes due\n        becomes greater. If you do not have enough money to pay taxes, you will instead get to keep the final amount of\n        money earned. Save up enough money and you can use it to purchase new tiles or upgrades.\n      </div>\n      <br />\n      <button onClick={closeModal}>Play!</button>\n    </Modal>\n  );\n}\n\n/*\n<Modal>\n  <h1>Intro</h1>\n  <div>\n    You are a craftsman who's father just passed, leaving you his shop and a few personal possessions. One of these\n    was a well worn rune that you had never seen before... what could it possibly be?\n    <br />\n    <br />\n    <h3>Taxes</h3>\n    As a shop owner you must pay taxes. As time goes on you are given more time, but also expected to pay more\n    taxes.\n    <br />\n    <br />\n    <h3>Getting Items</h3>\n    Every day you will get new shipments of items, which you are then able to use for profit. What happens on the\n    day will be completely up to chance.\n    <br />\n    <br />\n    At the end of the day you will also have the opprtunity to select from additional items to be delivered to your\n    shop.\n    <br />\n    <br />\n    <h3>Item effects</h3>\n    As a craftsman you are able to utilize items in different ways to produce even more valuable or useful items.\n  </div>\n  <br />\n  <button onClick={closeModal}>Begin your journey</button>\n</Modal>\n*/\n","import { endRound } from \"../../actions/game\";\nimport { closeModal } from \"../../actions/modal\";\nimport { Modal } from \"../../components/Modal\";\nimport { newGame } from \"../../lib/newGame\";\nimport { saveGameData } from \"../../lib/saveGameData\";\nimport { store } from \"../../lib/store\";\n\nexport function OptionsModal() {\n  return (\n    <Modal>\n      <h1>Options</h1>\n      <br />\n      <button\n        onClick={() => {\n          newGame();\n          saveGameData();\n          store.update();\n        }}\n      >\n        Reset All Game Data\n      </button>\n      <button\n        onClick={() => {\n          saveGameData();\n        }}\n      >\n        Save Game Data\n      </button>\n      <button onClick={endRound}>End Round</button>\n\n      <br />\n      <br />\n      <button onClick={closeModal}>Close</button>\n    </Modal>\n  );\n}\n","import { Board } from \"../components/Board\";\nimport { store } from \"../lib/store\";\nimport { spin } from \"../lib/game\";\nimport { loadGameData } from \"../lib/loadGameData\";\nimport { taxPeriods } from \"../config/taxPeriods\";\nimport { Coin } from \"../config/tiles/misc/icons\";\nimport { GameEvents } from \"../components/GameEvents\";\nimport packageJson from \"../../package.json\";\nimport { PickNewTileModal } from \"./modals/PickNewTileModal\";\nimport { InventoryModal } from \"./modals/InventoryModal\";\nimport { IntroModal } from \"./modals/IntroModal\";\nimport { openModal } from \"../actions/modal\";\nimport { TextIcon } from \"../config/tiles/Icon\";\nimport { OptionsModal } from \"./modals/OptionsModal\";\n\nloadGameData();\n\nfunction Header() {\n  const { gameData } = store.state;\n  const taxPeriod = taxPeriods[gameData.currentTaxPeriod];\n\n  return (\n    <>\n      <div style={{ fontSize: \"3em\" }}>\n        {gameData.totalCoins}\n        <span className=\"icon-em\">\n          <Coin />\n        </span>{\" \"}\n        / {taxPeriod.taxAmount}\n        <span className=\"icon-em\">\n          <Coin />\n        </span>{\" \"}\n        taxes due in {taxPeriod.totalDays - gameData.currentTaxPeriodDay} Days\n      </div>\n      <div style={{ float: \"right\" }}>Tax Period: {gameData.currentTaxPeriod}</div>\n      <div>\n        Saved: {gameData.savedCoins}\n        <TextIcon Icon={Coin} />\n      </div>\n    </>\n  );\n}\n\nfunction Modals() {\n  const { gameData } = store.state;\n\n  switch (gameData.modal) {\n    case \"Intro\":\n      return <IntroModal />;\n    case \"PickNewTile\":\n      return <PickNewTileModal />;\n    case \"Inventory\":\n      return <InventoryModal />;\n    case \"Options\":\n      return <OptionsModal />;\n  }\n\n  return null;\n}\n\nexport function MainGame() {\n  const { gameData } = store.state;\n\n  return (\n    <>\n      <Modals />\n      <div className=\"version\">Version: {packageJson.version}</div>\n      <div className=\"app\" style={{ display: \"flex\", justifyContent: \"center\", height: \"100%\" }}>\n        <div className=\"main-container\" style={{ padding: \"1em\" }}>\n          <Header />\n          <div>\n            <br />\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n              <Board\n                boardTiles={gameData.boardTiles}\n                gameTiles={gameData.gameTiles}\n                width={gameData.gridWidth}\n                height={gameData.gridHeight}\n              />\n            </div>\n            <div style={{ fontSize: \"2em\", textAlign: \"center\" }}>\n              Board value {(!!gameData.boardValue && gameData.boardValue) || 0}\n              <TextIcon Icon={Coin} />\n            </div>\n            {!store.state.spinning && (\n              <div style={{ marginTop: \"0.5em\" }}>\n                <button onClick={spin}>Spin</button>\n                <div style={{ marginTop: \"1em\" }}>\n                  <button onClick={() => openModal(\"Inventory\")}>Inventory</button>\n                  <button onClick={() => openModal(\"Intro\")}>How To Play</button>\n                  {gameData.counters.totalRounds > 0 && (\n                    <div>\n                      <button onClick={() => openModal(\"Options\")}>Options</button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n            <br />\n          </div>\n          {gameData.counters.totalRounds > 0 && (\n            <>\n              {!!gameData.events.length && (\n                <div>\n                  <h1>Events</h1>\n                  <GameEvents events={gameData.events} />\n                  <br />\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { store } from \"./lib/store\";\nimport { useEffect, useState } from \"react\";\nimport { newGame } from \"./lib/newGame\";\nimport { loadGameData } from \"./lib/loadGameData\";\nimport { MainGame, RoundEnd } from \"./views\";\nimport { TileDetails } from \"./components/TileDetails\";\n\nloadGameData();\n\nfunction SelectedTile() {\n  if (!store.state.selectedTile) {\n    return null;\n  }\n\n  return (\n    <div className=\"selected-tile\">\n      <TileDetails tile={store.state.selectedTile} />\n      <button\n        onClick={() => {\n          store.state.selectedTile = undefined;\n          store.update();\n        }}\n      >\n        Close\n      </button>\n    </div>\n  );\n}\n\nfunction App() {\n  const update = useState(0)[1];\n\n  // Did mount / unmount\n  useEffect(() => {\n    store._update = update;\n  }, [update]);\n\n  if (!store.state.gameData) {\n    newGame();\n  }\n\n  const { gameData } = store.state;\n\n  let view = null;\n\n  if (gameData.roundEnded) {\n    view = <RoundEnd />;\n  } else {\n    view = <MainGame />;\n  }\n\n  return (\n    <>\n      <SelectedTile />\n      {view}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/main.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}