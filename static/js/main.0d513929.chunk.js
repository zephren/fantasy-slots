(this["webpackJsonpfantasy-slots"]=this["webpackJsonpfantasy-slots"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"name":"fantasy-slots","version":"0.1.6","private":true,"dependencies":{"gh-pages":"^3.1.0","node-sass":"^5.0.0","react":"^17.0.1","react-dom":"^17.0.1","react-scripts":"4.0.3","typescript":"^4.2.2","uuid":"^8.3.2","web-vitals":"^1.1.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm version patch && git push && npm run build","deploy":"gh-pages -d build","sync":"git add . && git commit -m \'Sync\' && git push"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.7.3","@types/jest":"^26.0.20","@types/node":"^12.20.4","@types/react":"^17.0.2","@types/react-dom":"^17.0.1","@types/uuid":"^8.3.0"},"homepage":"https://zephren.github.io/fantasy-slots"}')},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n.n(a),c=n(8),r=n.n(c),s=(n(16),{state:{gameData:null,spinning:!1,tilesToPick:[],selectedTile:null},_update:function(e){},update:function(){s._update(Math.random())}});window.store=s;var o=n(5),l=n(1),d=n(9),u=function e(t){Object(d.a)(this,e),this.id="",this.name="",this.icon=void 0,this.rarity=0,this.categories=[],this.description=void 0,this.calculateValue=function(e){return 0},this.onRemove=void 0,this.createMeta=void 0,this.topStat=void 0,this.name="",Object.assign(this,t)},f=n.p+"static/media/key.0629d73b.png",h=n.p+"static/media/chest1.b4054229.png",j=n.p+"static/media/chest2.d4ed67d0.png",g=n.p+"static/media/chest3.888bf5be.png",b=n.p+"static/media/chest4.28dffa1b.png",m=n.p+"static/media/coal.d3a30adc.png",v=n.p+"static/media/coin.3480412c.png",p=n.p+"static/media/dagger1.6892c2d5.png",O=n.p+"static/media/pickaxe.9f91b8f2.png",x=n.p+"static/media/rock.14a2b8aa.png",y=n.p+"static/media/healthPotion1.2cc42067.png",T=n.p+"static/media/healthPotion2.8e645ab4.png",k=n.p+"static/media/manaPotion1.03ef4a80.png",C=n.p+"static/media/manaPotion2.f6d761fd.png",M=n.p+"static/media/elixer1.126eb52b.png",D=n.p+"static/media/elixer2.f677e6cf.png",w=n(19);function A(e,t){var n;return e||(console.error(new Error("Undefined tile config for creating a tile. Adding an empty tile.")),e=Ae),!t&&e.createMeta&&(t=e.createMeta()),{id:Object(w.a)(),config:e,effects:{},data:{spinValue:0,totalSpins:0,totalAppearances:0,highlight:!1},meta:null!==(n=t)&&void 0!==n?n:{}}}var N=n(0);function V(e){var t=e.image,n=e.config;return Object(N.jsx)("img",{className:"icon",src:t,alt:"",onClick:function(){n&&(s.state.selectedTile=A(n),s.update())}})}var S=new Map;function _(e,t){var n=S.get(t.name);return n||(n=Object(N.jsx)(V,{image:e,config:t})),n}var E=function(){return _(h,Ne.Small_Chest)},P=function(){return _(j,Ne.Medium_Chest)},R=function(){return _(g,Ne.Large_Chest)},B=function(){return _(b,Ne.Dark_Chest)},H=function(){return _(m,Ne.Coal)},I=function(){return _(v,Ne.Coin)},W=function(){return _(O,Ne.Pickaxe)};function F(e,t){var n=e.getAdjacentIndexes();return e.getTiles(n).map(t)}var J={COMMON:0,UNCOMMON:1,RARE:2,LEGENDARY:3},G=J.LEGENDARY,U={Coal:new u({id:"48217c09-300c-44b0-803e-19f51346227b",icon:H,rarity:J.COMMON,categories:[],calculateValue:function(e){var t=1;return F(e,(function(e){"Coal"===e.config.name&&(t+=1)})),t}}),Dagger:new u({id:"2f2e6e35-686f-4033-9940-3f66a153c568",icon:function(){return _(p,Ne.Dagger)},rarity:J.COMMON,categories:[],calculateValue:function(e){return 1}}),Coin:new u({id:"49d24981-a7d1-4407-b121-ed3e45d427bd",icon:I,rarity:J.COMMON,categories:[],calculateValue:function(e){return 1}})};function L(e,t){return e.config.categories.includes(t)}var z=n(2);function Y(e,t){return Math.floor(Math.random()*(t-e+1))+e}var K="9c0617fc-daf3-4f9c-943e-073f698ac0b8";function Q(){var e=localStorage["".concat(K)];e=e?JSON.parse(e):{};var t=JSON.parse(JSON.stringify(s.state.gameData));X(t.ownedTiles),X(t.deckTiles),X(t.gameTiles),e.gameState=t,e.saveDate=new Date,localStorage["".concat(K)]=JSON.stringify(e)}function X(e){var t,n=Object(z.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.config={id:a.config.id}}}catch(i){n.e(i)}finally{n.f()}}var Z=[{totalDays:0,taxAmount:0},{totalDays:5,taxAmount:25},{totalDays:6,taxAmount:50},{totalDays:7,taxAmount:100},{totalDays:8,taxAmount:200},{totalDays:9,taxAmount:400},{totalDays:10,taxAmount:800}];function q(e,t){return e.find((function(e){return e.config.id===t}))}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=s.state.gameData.ownedTiles;if(q(t,e.id))console.log("Already own tile ".concat(e.name));else{console.log("Adding owned tile ".concat(e.name));var n=A(e);t.push(n)}}function ee(e){var t=s.state.gameData.gameTiles,n=t.findIndex((function(e){return e.config.id===Ae.id}));n>=0?t.splice(n,1,e):t.push(e)}function te(e,t){var n,a=e.reduce((function(e,n){return n.config.rarity<=t&&e.push(n),e}),[]);return(n=a)[Y(0,n.length-1)]}function ne(){for(var e=s.state.gameData,t=e.deckTiles,n=[],a=0;a<5;a++){var i=te(t,J.COMMON);n.push(A(i.config))}e.gameTiles=n,ae()}function ae(){for(var e=s.state.gameData,t=e.gameTiles,n=e.gridWidth,a=e.gridHeight,i=0;t.length<n*a;i++)t.push(A(Ae))}function ie(){var e=s.state.gameData,t=e.gridWidth,n=e.gridHeight,a=e.deckTiles;e.boardTiles=function(){for(var e=s.state.gameData,t=e.gameTiles,n=e.gridWidth,a=e.gridHeight,i=[],c=Object(o.a)(t),r=0;r<n*a;r++){var l=Math.floor(Math.random()*c.length),d=c[l],u=t.indexOf(d);i.push(u),c.splice(l,1)}return i}(),function(){for(var e=s.state.gameData,t=e.gridWidth,n=e.gridHeight,a=e.gameTiles,i=e.boardTiles,c=0;c<t*n;c++)a[i[c]].data.spinValue=0}(),s.state.gameData.gameTiles.forEach((function(e){e.data.totalSpins++})),s.state.spinning=!0,s.update();var i=0,c=setInterval((function(){var r=e.boardTiles,l=e.gameTiles;i>0&&i<=t*n&&(l[r[i-1]].data.highlight=!1);if(i>t*n)return clearInterval(c),s.state.spinning=!1,s.state.gameData.totalCoins+=s.state.gameData.boardValue,s.state.tilesToPick=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Object(o.a)(e),a=[],i=function(e){var t=oe(n),i=t.chances,c=Y(0,t.chanceTotal),r=i.findIndex((function(e){return e>=c})),s=n.splice(r,1)[0];s&&a.push(A(s.config))},c=0;c<t;c++)i(c);return a}(a),s.update(),le(),void Q();if(i<t*n){var d=l[r[i]];d.data.highlight=!0,d.data.totalAppearances++,d.data.spinValue=se(d,i)}i++;var u,f=0,h=Object(z.a)(r);try{for(h.s();!(u=h.n()).done;){f+=l[u.value].data.spinValue}}catch(j){h.e(j)}finally{h.f()}s.state.gameData.boardValue=f,s.update()}),100)}function ce(e,t,n,a){return!(t<0||t>=n*a)&&((e+1!==t&&e-1!==t||Math.floor(t/n)===Math.floor(e/n))&&((e+n+1!==t&&e+n-1!==t||Math.floor(t/n)===Math.floor((e+n)/n))&&(e-n+1!==t&&e-n-1!==t||Math.floor(t/n)===Math.floor((e-n)/n))))}function re(e){var t=s.state.gameData,n=t.boardTiles,a=t.gameTiles;return e.map((function(e){return a[n[e]]}))}function se(e,t){var n=s.state.gameData,a=n.gridWidth,i=n.gridHeight,c={tile:e,gameData:n,getAdjacentIndexes:function(){return function(e,t,n){var a=[];a.push(e+t),a.push(e-t),a.push(e+1),a.push(e-1),a.push(e+t-1),a.push(e+t+1),a.push(e-t-1),a.push(e-t+1);for(var i=7;i>=0;i--)ce(e,a[i],t,n)||a.splice(i,1);return a}(t,a,i)},getTiles:re};return e.config.calculateValue(c)}function oe(e){var t,n=[],a=0,i=Object(z.a)(e);try{for(i.s();!(t=i.n()).done;){var c=t.value;a+=G+1-c.config.rarity,n.push(a)}}catch(r){i.e(r)}finally{i.f()}return{chances:n,chanceTotal:a}}function le(){var e=s.state.gameData,t=Z[e.currentTaxPeriod];if(e.currentTaxPeriodDay++,e.currentTaxPeriodDay>=t.totalDays){e.currentTaxPeriod++,e.currentTaxPeriodDay=1;var n=e.totalCoins-t.taxAmount;n<0&&(e.roundEnded=!0,e.savedCoins+=e.totalCoins,e.lastTotalCoins=e.totalCoins),e.totalCoins=n}s.update()}function de(e){var t=e.message,n=void 0===t?"":t;s.state.gameData.events.push({id:Object(w.a)(),message:n}),console.log("GAME EVENT: ".concat(n))}function ue(){var e,t=s.state.gameData,n=0,a=Object(z.a)(t.deckTiles);try{for(a.s();!(e=a.n()).done;){n+=e.value.config.rarity}}catch(i){a.e(i)}finally{a.f()}return n/t.deckTiles.length}function fe(e,t){var n;e.config.onRemove&&(n=e.config.onRemove(t));var a=t.gameData.gameTiles,i=a.indexOf(e),c=A(Ae);if(n){var r=n.tiles;if(null===r||void 0===r?void 0:r.length){c=r[0];for(var s=1;s<r.length;s++)ee(r[s])}n.value&&(c.data.spinValue=n.value)}a[i]=c}function he(e){var t=e.baseValue,n=e.removeValue;return{categories:["chest"],name:"",description:function(){return Object(N.jsxs)(N.Fragment,{children:["Unlocked by the key, gives ",n," ",Object(N.jsx)(I,{})]})},calculateValue:function(e){return t},onRemove:function(e){return{value:n}}}}var je={Key:new u({id:"2ef31449-bf1d-4cee-8e93-e0665fb9942a",name:"",description:function(){return Object(N.jsxs)(N.Fragment,{children:["The key unlocks ",Object(N.jsx)(E,{})," ",Object(N.jsx)(P,{})," ",Object(N.jsx)(R,{})," ",Object(N.jsx)(B,{}),", destroying both in the process"]})},icon:function(){return _(f,Ne.Key)},rarity:J.COMMON,categories:["key"],calculateValue:function(e){var t=!1;return F(e,(function(n){L(n,"chest")&&(fe(n,e),t=!0)})),t&&fe(e.tile,e),1}}),Small_Chest:new u(Object(l.a)({id:"834bf40d-0a3d-4e20-83a0-4e3aa233840c",icon:E,rarity:J.COMMON},he({baseValue:1,removeValue:10}))),Medium_Chest:new u(Object(l.a)({id:"c87ea7e4-5479-4aa7-9033-0859d191390b",icon:P,rarity:J.UNCOMMON},he({baseValue:2,removeValue:20}))),Large_Chest:new u(Object(l.a)({id:"8abbd4fc-1fee-4c14-b5c2-2a627de70dd1",icon:R,rarity:J.RARE},he({baseValue:3,removeValue:30}))),Dark_Chest:new u(Object(l.a)({id:"3422f3a8-bd1a-4549-a9ff-d0ed0621d646",icon:B,rarity:J.LEGENDARY},he({baseValue:4,removeValue:40})))},ge={Pickaxe:new u({id:"102f6200-dd6b-434f-b486-67ccc425cc4d",name:"",description:function(){return Object(N.jsx)(N.Fragment,{children:"Breaks rocks, has 3 uses"})},icon:W,rarity:J.COMMON,categories:["mining"],createMeta:function(){return{uses:3}},topStat:function(e){return e.meta.uses},calculateValue:function(e){var t=!1;return F(e,(function(n){t||L(n,"rock")&&(fe(n,e),console.log(e.tile.meta),e.tile.meta.uses--,0===e.tile.meta.uses&&(t=!0,de({message:"A Pickaxe broke"})))})),t&&fe(e.tile,e),1}}),Rock:new u({id:"89c89fb8-b343-4767-ba9f-78b4586b4ceb",name:"",description:function(){return Object(N.jsxs)(N.Fragment,{children:["Broken by ",Object(N.jsx)(W,{}),", gives one of ",Object(N.jsx)(H,{})]})},icon:function(){return _(x,Ne.Rock)},rarity:J.COMMON,categories:["rock"],calculateValue:function(e){return 1},onRemove:function(e){var t=A(Ne.Coal);return de({message:"A broken Rock yielded a ".concat(t.config.name)}),{tiles:[t]}}})},be="small-health-potion",me="medium-health-potion",ve="small-mana-potion",pe="medium-mana-potion",Oe="small-elixer",xe="medium-elixer";function ye(e,t){return F(e,(function(e){if(L(e,t))return e})).reduce((function(e,t){return t&&e.push(t),e}),[])}function Te(e,t,n){var a=n.gameData,i=a.gameTiles,c=a.boardTiles,r=i.indexOf(e),s=c.indexOf(r);i[r]=t,t.data.spinValue=se(t,s)}function ke(e,t){var n=ye(t,e);return!!n.length&&(fe(n[0],t),Te(t.tile,A(Me.Small_Elixer),t),!0)}function Ce(e,t,n){var a=ye(n,e);return a.length>=2&&(fe(a[0],n),fe(a[1],n),Te(n.tile,A(t),n),!0)}var Me={Small_Health_Potion:new u({id:"e77dc97d-8d44-45e4-bbad-deb79574092d",icon:function(){return _(y,Ne.Small_Health_Potion)},rarity:J.COMMON,categories:[be],calculateValue:function(e){return ke(ve,e)||Ce(be,Me.Medium_Health_Potion,e)?0:1}}),Medium_Health_Potion:new u({id:"c6d67a75-f151-4503-b04d-2fb535c06c92",icon:function(){return _(T,Ne.Medium_Health_Potion)},rarity:J.UNCOMMON,categories:[me],calculateValue:function(e){return 2}}),Small_Mana_Potion:new u({id:"d587eba7-246e-46c7-bd55-2f32b0093cf8",icon:function(){return _(k,Ne.Small_Mana_Potion)},rarity:J.COMMON,categories:[ve],calculateValue:function(e){return ke(be,e)||Ce(ve,Me.Medium_Mana_Potion,e)?0:1}}),Medium_Mana_Potion:new u({id:"6c067c0f-eefb-43ce-8f81-0aabd19cacc1",icon:function(){return _(C,Ne.Medium_Mana_Potion)},rarity:J.UNCOMMON,categories:[pe],calculateValue:function(e){return 2}}),Small_Elixer:new u({id:"93a94d4e-7a9d-4d1a-9f8a-3b1586530ca0",icon:function(){return _(M,Ne.Small_Elixer)},rarity:J.RARE,categories:[Oe],calculateValue:function(e){return Ce(Oe,Me.Medium_Elixer,e)?0:5}}),Medium_Elixer:new u({id:"1fb94f1d-880e-41eb-9a29-f14700a22928",icon:function(){return _(D,Ne.Medium_Elixer)},rarity:J.RARE,categories:[xe],calculateValue:function(e){return 10}})},De=Me,we={Empty:new u({id:"04f5df2c-22d6-4e31-8e81-c81f0ba1c4c1",name:"",icon:function(){return _("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ne.Empty)},rarity:J.COMMON,categories:["empty"],calculateValue:function(e){return e.tile.data.spinValue||0}})},Ae=we.Empty,Ne=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},we),U),ge),De),je);for(var Ve in Ne){Ne[Ve].name=Ve.replaceAll("_"," ")}var Se=Object(o.a)(Object.values(Ne)),_e=Se,Ee=new Map,Pe=[];function Re(e){var t=function(e){var t=Ne[e];return t||console.error(new Error('Tile name "'.concat(e,'" not found'))),t}(e);$(t),function(e){if(e){var t=s.state.gameData.deckTileIds;t.includes(e)||t.push(e)}}(null===t||void 0===t?void 0:t.id)}function Be(){s.state.gameData={boardTiles:[],ownedTiles:[],deckTileIds:[],deckTiles:[],gameTiles:[],gridWidth:3,gridHeight:3,boardValue:0,totalCoins:0,savedCoins:0,lastTotalCoins:0,currentTaxPeriod:0,currentTaxPeriodDay:0,roundEnded:!1,events:[]},s.state.tilesToPick=[],Re("Coal"),Re("Dagger"),Re("Pickaxe"),Re("Rock"),function(){var e=s.state.gameData,t=e.deckTileIds,n=e.ownedTiles;e.deckTiles=t.map((function(e){return q(n,e)||A(Ae)}))}(),ne(),le()}function He(){var e,t=localStorage["".concat(K)];if(null===(e=t=t?JSON.parse(t):{})||void 0===e?void 0:e.gameState){var n=t.gameState;Ie(n.ownedTiles),Ie(n.deckTiles),Ie(n.gameTiles),s.state.gameData=t.gameState}}function Ie(e){var t,n=Object(z.a)(e);try{var a=function(){var e=t.value;e.config=_e.find((function(t){return t.id===e.config.id}))||Ae};for(n.s();!(t=n.n()).done;)a()}catch(i){n.e(i)}finally{n.f()}}function We(e){var t=e.tile,n=e.showValue,a=e.onClick,i=["tile"];return t.data.highlight&&i.push("highlight"),Object(N.jsxs)("div",{className:i.join(" "),onClick:function(){s.state.selectedTile=t,s.update(),a&&a(t)},children:[!!t.config.topStat&&n&&Object(N.jsx)("div",{className:"top-stat",children:t.config.topStat(t)}),!!t.data.spinValue&&n&&Object(N.jsx)("div",{className:"value",children:t.data.spinValue}),Object(N.jsx)(t.config.icon,{})]})}function Fe(e){var t=e.tiles,n=e.onClickTile;return Object(N.jsx)("div",{className:"inventory",children:t.map((function(e){return Object(N.jsx)(We,{tile:e,onClick:n},e.id)}))})}function Je(){var e=s.state.gameData;e.currentTaxPeriod=0,e.currentTaxPeriodDay=0,e.roundEnded=!1,e.boardTiles=[],e.totalCoins=0,e.events=[],ne(),le(),s.state.tilesToPick=[],s.update()}function Ge(){var e=ue(),t=s.state.gameData;function n(e,t){return 100*Math.pow(e+1,2)*(t+1)}function a(){var e=Object.keys(J).map((function(){return[]})),n=Object.keys(J).map((function(){return[]})),a=Object.keys(J).map((function(){return 0}));return Pe.forEach((function(i){n[i.config.rarity].push(i),i.config!==Ae&&(q(t.ownedTiles,i.config.id)?a[i.config.rarity]++:e[i.config.rarity].push(i))})),{availableTilesByRarity:e,allTilesByRarity:n,ownedRarityCounts:a}}var i=a(),c=i.availableTilesByRarity,r=i.allTilesByRarity,o=i.ownedRarityCounts;return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"The round is over"}),Object(N.jsxs)("h2",{children:["Saved Coins: ",t.savedCoins," (",t.lastTotalCoins," earned last round)"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:"This is your chance to get a new tile. Getting a new tile will increase the cost of the next tile of the same rarity"}),Object(N.jsx)("div",{className:"buy-new-card",children:Object.keys(J).map((function(e,i){var l=J[e],d=n(l,o[i]),u=c[i].length,f=["rarity"],h=!0;return(d>t.savedCoins||0===u)&&(f.push("disabled"),h=!1),Object(N.jsxs)("div",{className:f.join(" "),children:[Object(N.jsx)("div",{className:"name",children:e}),Object(N.jsx)("div",{className:"cost",children:d}),Object(N.jsxs)("div",{className:"remaining-tiles",children:[c[i].length," of"," ",r[i].length," tiles available"]}),h&&Object(N.jsx)("button",{onClick:function(){return function(e){var i=a(),c=i.availableTilesByRarity,r=i.ownedRarityCounts,o=c[e],l=Y(0,o.length-1);t.savedCoins-=n(e,r[e]),$(o[l].config),s.update()}(i)},children:"Buy"})]},l)}))})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:"Take this time to reorganize your deck"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Deck"}),Object(N.jsxs)("div",{style:{background:e>1?"red":"none"},children:["Deck Score: ",e.toFixed(2)]}),Object(N.jsx)(Fe,{tiles:t.deckTiles,onClickTile:function(e){var n=t.deckTiles.indexOf(e);n>=0&&t.deckTiles.splice(n,1)}})]})]}),Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Owned Inventory"}),Object(N.jsx)(Fe,{tiles:t.ownedTiles,onClickTile:function(e){t.deckTiles.find((function(t){return t.config.id===e.config.id}))||t.deckTiles.push(e)}})]})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"All Tiles"}),Object(N.jsx)(Fe,{tiles:Pe,onClickTile:function(e){t.ownedTiles.find((function(t){return t.config.id===e.config.id}))||t.ownedTiles.push(A(e.config))}})]}),Object(N.jsx)("button",{onClick:Je,children:"Next round"})]})}function Ue(e){var t=e.boardTiles,n=e.gameTiles,a=e.width,i=e.height,c={fontSize:"1.5em",gridTemplateColumns:"repeat(".concat(a,", 5em)"),gridTemplateRows:"repeat(".concat(i,", 5em)")};if(0===t.length){var r=A(Ae);return Object(N.jsx)("div",{className:"board",style:c,children:" ".repeat(a*i).split("").map((function(e,t){return Object(N.jsx)(We,{tile:r},t)}))})}return Object(N.jsx)("div",{className:"board",style:c,children:t.map((function(e,t){var a=n[e];return Object(N.jsx)(We,{tile:a,showValue:!0,onClick:function(){}},a.id)}))})}function Le(e){var t=e.tile,n=e.onClick;if(!t)return null;var a=t.config;return Object(N.jsxs)("div",{className:"tile-details",onClick:n,children:[Object(N.jsx)("div",{className:"name",children:a.name}),Object(N.jsx)(t.config.icon,{}),Object(N.jsx)("div",{className:"description",children:a.description&&a.description()})]})}function ze(){var e=s.state.tilesToPick;function t(e){e&&ee(e),s.state.tilesToPick=[],s.state.gameData.boardTiles=[],s.update()}return Object(N.jsxs)("div",{className:"pick-a-tile",children:[e.map((function(e){return Object(N.jsx)(Le,{tile:e,onClick:function(){t(e)}},e.id)})),Object(N.jsx)("button",{onClick:function(){return t()},children:"Skip"})]})}Se.forEach((function(e){Ee.set(e.id,e),Pe.push(A(e))}));var Ye=[{id:"bbe17879-f3ee-47fc-9e76-2fa8cc0ebc0d",name:"Board Width",cost:function(){return 0},buy:function(){s.state.gameData.gridWidth+=1,ae(),s.update()},isComplete:function(){return!1}},{id:"1e0ab330-8ec9-4e41-933d-75251ffa5ee5",name:"Board Height",cost:function(){return 0},buy:function(){s.state.gameData.gridHeight+=1,ae(),s.update()},isComplete:function(){return!1}},{id:"0245c559-dd55-4f93-a626-53cc06b17d42",name:"XYZ",cost:function(){return 0},buy:function(){},isComplete:function(){return!1}}];function Ke(){return Object(N.jsx)("div",{className:"upgrades",children:Ye.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:e.name}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{onClick:e.buy,children:"Buy"})})]},e.id)}))})}function Qe(e){var t=e.events;return Object(N.jsx)("div",{className:"game-events",children:t.map((function(e){return Object(N.jsx)("div",{className:"event",children:Object(N.jsx)("div",{className:"message",children:e.message})},e.id)}))})}var Xe=n(10);function Ze(){var e=s.state.gameData,t=Z[e.currentTaxPeriod];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{style:{fontSize:"3em"},children:[e.totalCoins,Object(N.jsx)("span",{className:"icon-em",children:Object(N.jsx)(I,{})})," ","/ ",t.taxAmount,Object(N.jsx)("span",{className:"icon-em",children:Object(N.jsx)(I,{})})," ","taxes due in ",t.totalDays-e.currentTaxPeriodDay," Days"]}),Object(N.jsxs)("div",{children:["Saved Coins: ",e.savedCoins]})]})}function qe(){var e=s.state,t=e.gameData,n=e.tilesToPick,a=null;s.state.spinning||n.length||(a=Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("button",{onClick:ie,children:"Spin"})}));var i=ue();return Object(N.jsxs)("div",{className:"app",children:[Object(N.jsxs)("div",{children:["Version: ",Xe.version]}),Object(N.jsx)(Ze,{}),!!n.length&&Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Pick New Tile"}),Object(N.jsx)(ze,{})]}),Object(N.jsxs)("div",{style:{opacity:n.length?.5:1},children:[Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Board"}),Object(N.jsx)(Ue,{boardTiles:t.boardTiles,gameTiles:t.gameTiles,width:t.gridWidth,height:t.gridHeight}),a,Object(N.jsxs)("div",{style:{fontSize:"2em"},children:["Board value:"," ",Object(N.jsx)("b",{children:!!t.boardValue&&t.boardValue||0})]})]}),Object(N.jsx)("div",{style:{width:"1em"}}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Selected Tile"}),Object(N.jsx)(Le,{tile:s.state.selectedTile})]}),Object(N.jsx)("div",{style:{width:"1em"}}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Events"}),Object(N.jsx)(Qe,{events:t.events})]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Game Tiles"}),Object(N.jsx)(Fe,{tiles:t.gameTiles})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Deck"}),Object(N.jsxs)("div",{style:{background:i>1?"red":"none"},children:["Deck Score: ",i.toFixed(2)]}),Object(N.jsx)(Fe,{tiles:t.deckTiles})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Owned Inventory"}),Object(N.jsx)(Fe,{tiles:t.ownedTiles})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"All Tiles"}),Object(N.jsx)(Fe,{tiles:Pe,onClickTile:function(e){t.ownedTiles.find((function(t){return t.config.id===e.config.id}))||t.ownedTiles.push(A(e.config))}})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Upgrades"}),Object(N.jsx)(Ke,{})]}),Object(N.jsx)("button",{onClick:function(){Be(),s.update()},children:"Reset all game data"}),Object(N.jsx)("button",{onClick:function(){Q()},children:"Save game data"})]}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{onClick:function(){t.roundEnded=!0,s.update()},children:"End Round"})})]})}He(),He();var $e=function(){var e=Object(a.useState)(0)[1];return Object(a.useEffect)((function(){s._update=e}),[e]),s.state.gameData||Be(),s.state.gameData.roundEnded?Object(N.jsx)(Ge,{}):Object(N.jsx)(qe,{})};r.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)($e,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.0d513929.chunk.js.map